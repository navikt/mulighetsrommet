server:
  port: 8080
  host: 0.0.0.0

app:
  database:
    host: ${DB_HOST}
    port: ${DB_PORT}
    name: ${DB_DATABASE}
    user: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    maximumPoolSize: 10
    migrationConfig:
      strategy: Migrate

  kafka:
    producerId: mulighetsrommet-api-kafka-producer.v1
    consumerGroupId: mulighetsrommet-api-kafka-consumer.v1
    producers:
      arenaMigreringTiltaksgjennomforinger:
        topic: team-mulighetsrommet.arena-migrering-tiltaksgjennomforinger-v1
        tiltakstyper:
          - ARBFORB
          - ARBRRHDAG
          - AVKLARAG
          - DIGIOPPARB
          - GRUFAGYRKE
          - GRUPPEAMO
          - INDJOBSTOT
          - INDOPPFAG
          - IPSUNG
          - JOBBK
          - UTVAOONAV
          - VASV
      tiltaksgjennomforinger:
        topic: team-mulighetsrommet.siste-tiltaksgjennomforinger-v1
      tiltakstyper:
        topic: team-mulighetsrommet.siste-tiltakstyper-v1
    consumers:
      tiltaksgjennomforingerV1:
        id: siste-tiltaksgjennomforinger
        topic: team-mulighetsrommet.siste-tiltaksgjennomforinger-v1
      amtDeltakerV1:
        id: amt-deltaker
        topic: amt.deltaker-v1
      amtVirksomheterV1:
        id: amt-virksomheter
        topic: amt.virksomheter-v1

  auth:
    azure:
      issuer: ${AZURE_OPENID_CONFIG_ISSUER}
      jwksUri: ${AZURE_OPENID_CONFIG_JWKS_URI}
      audience: ${AZURE_APP_CLIENT_ID}
      tokenEndpointUrl: ${AZURE_OPENID_CONFIG_TOKEN_ENDPOINT}
    roles:
      # team-mulighetsrommet
      - adGruppeId: 639e2806-4cc2-484c-a72a-51b4308c52a1
        rolle: TEAM_MULIGHETSROMMET
      # 0000-GA-mr-admin-flate_betabruker
      - adGruppeId: ee45478c-57a5-4ee6-b28d-b65f8c1733fe
        rolle: BETABRUKER
      # (GRP) mr-nav_kontaktperson
      - adGruppeId: 7b1d209a-f6c1-4c6e-84f2-02a1bb4c92ba
        rolle: KONTAKTPERSON
      # 0000-GA-mr-admin-flate_tiltaksgjennomforinger_skriv
      - adGruppeId: b3ace38f-9c62-43ef-9e6b-99c0e227afad
        rolle: TILTAKSGJENNOMFORINGER_SKRIV
      # 0000-GA-mr-admin-flate_avtaler_skriv
      - adGruppeId: dfcce624-ad5d-4cd0-abc0-554dd66858e5
        rolle: AVTALER_SKRIV

  sanity:
    dataset: ${SANITY_DATASET}
    projectId: ${SANITY_PROJECT_ID}
    token: ${SANITY_AUTH_TOKEN}

  veilarbvedtaksstotteConfig:
    url: https://veilarbvedtaksstotte.dev-fss-pub.nais.io/veilarbvedtaksstotte/api
    scope: api://dev-fss.pto.veilarbvedtaksstotte/.default

  veilarboppfolgingConfig:
    url: https://veilarboppfolging.dev-fss-pub.nais.io/veilarboppfolging/api
    scope: api://dev-fss.pto.veilarboppfolging/.default

  veilarbpersonConfig:
    url: https://veilarbperson.dev-fss-pub.nais.io/veilarbperson/api
    scope: api://dev-fss.pto.veilarbperson/.default

  veilarbveilederConfig:
    url: https://veilarbveileder.dev-fss-pub.nais.io/veilarbveileder/api
    scope: api://dev-fss.pto.veilarbveileder/.default

  veilarbdialogConfig:
    url: https://veilarbdialog.dev-fss-pub.nais.io/veilarbdialog/api
    scope: api://dev-fss.pto.veilarbdialog/.default

  poaoTilgang:
    url: http://poao-tilgang.poao
    scope: api://dev-gcp.poao.poao-tilgang/.default

  msGraphConfig:
    url: https://graph.microsoft.com
    scope: https://graph.microsoft.com/.default

  arenaAdapter:
    url: http://mulighetsrommet-arena-adapter
    scope: api://dev-gcp.team-mulighetsrommet.mulighetsrommet-arena-adapter/.default

  axsys:
    url: https://axsys.dev-fss-pub.nais.io
    scope: api://dev-fss.org.axsys/.default

  tasks:
    deleteExpiredTiltakshistorikk:
      cronPattern: "0 0 1 * * *" # Hver morgen kl. 01:00
    synchronizeNorgEnheter:
      delayOfMinutes: 360 # Hver 6. time
    synchronizeNavAnsatte:
      cronPattern: "0 0 6 * * *" # Hver morgen kl. 06:00
    notifySluttdatoForGjennomforingerNarmerSeg:
      cronPattern: "0 0 6 * * *" # Hver morgen kl. 06:00
    notifySluttdatoForAvtalerNarmerSeg:
      cronPattern: "0 0 6 * * *" # Hver morgen kl. 06:00
    notifyFailedKafkaEvents:
      maxRetries: 5
      delayOfMinutes: 15
    notifySluttdatoForMidlertidigStengtGjennomforingerNarmerSeg:
      cronPattern: "0 0 6 * * *" # Hver morgen kl. 06:00
    oppdaterMetrikker:
      delayOfMinutes: 5
    generateValidationReport:
      bucketName: mulighetsrommet-api-uploads-dev

  norg2:
    baseUrl: https://norg2.dev-fss-pub.nais.io/norg2/api/v1

  brreg:
    baseUrl: https://data.brreg.no/enhetsregisteret/api

  slack:
    token: ${SLACK_TOKEN}
    channel: "#team-valp-monitorering-dev"
    enable: true

  unleash:
    appName: ${NAIS_APP_NAME}
    url: ${UNLEASH_SERVER_API_URL}
    token: ${UNLEASH_SERVER_API_TOKEN}
    instanceId: ${NAIS_CLIENT_ID}
    environment: development
