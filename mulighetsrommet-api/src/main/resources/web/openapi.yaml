openapi: 3.1.0

info:
  version: 1.0.0
  title: Mulighetsrommet API

security:
  - bearerAuth: []

paths:
  /api/v1/intern/avtaler/{id}:
    parameters:
      - $ref: "#/components/parameters/ID"
    get:
      tags:
        - Avtaler
      operationId: getAvtale
      responses:
        200:
          description: The specified avtale.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AvtaleDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/avtaler/{id}/avbryt:
    parameters:
      - $ref: "#/components/parameters/ID"
    put:
      tags:
        - Avtaler
      operationId: avbrytAvtale
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AvbrytelseRequest"
      responses:
        200:
          description: The specified avtale you want to 'Avbryte'
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/avtaler:
    get:
      tags:
        - Avtaler
      operationId: getAvtaler
      parameters:
        - in: query
          name: tiltakstyper
          schema:
            type: array
            items:
              type: string
          description: ID for tiltakstyper om du ønsker avtaler for en spesifikk tiltakstype
        - in: query
          name: search
          schema:
            type: string
          description: Search for avtaler by the name
        - in: query
          name: statuser
          schema:
            type: array
            items:
              $ref: "#/components/schemas/AvtaleStatus"
          description: Statuser for avtale
        - in: query
          name: avtaletyper
          schema:
            type: array
            items:
              $ref: "#/components/schemas/Avtaletype"
          description: Avtaletyper
        - in: query
          name: navRegioner
          schema:
            type: array
            items:
              type: string
          description: 4 digit enhetskode
        - in: query
          name: arrangorer
          schema:
            type: array
            items:
              type: string
              format: uuid
          description: Id til arrangører for avtaler
        - in: query
          name: page
          schema:
            type: number
          description: Page number, default 1
        - in: query
          name: size
          schema:
            type: number
          description: Page size, default 50
        - in: query
          name: sort
          schema:
            $ref: "#/components/schemas/SorteringAvtaler"
        - in: query
          name: personvernBekreftet
          schema:
            type: boolean
      responses:
        200:
          description: Object of paginated avtaler connected to specified tiltakstype-id.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginertAvtale"
        default:
          $ref: "#/components/responses/ProblemDetail"
    put:
      tags:
        - Avtaler
      operationId: upsertAvtale
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AvtaleRequest"
      responses:
        200:
          description: Avtale response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AvtaleDto"
        400:
          $ref: "#/components/responses/ValidationError"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/avtaler/mine:
    get:
      tags:
        - Avtaler
      operationId: getMineAvtaler
      parameters:
        - in: query
          name: tiltakstyper
          schema:
            type: array
            items:
              type: string
          description: ID for tiltakstyper om du ønsker avtaler for en spesifikk tiltakstype
        - in: query
          name: search
          schema:
            type: string
          description: Search for avtaler by the name
        - in: query
          name: page
          schema:
            type: number
          description: Page number, default 1
        - in: query
          name: size
          schema:
            type: number
          description: Page size, default 50
        - in: query
          name: sort
          schema:
            $ref: "#/components/schemas/SorteringAvtaler"
        - in: query
          name: statuser
          schema:
            type: array
            items:
              $ref: "#/components/schemas/AvtaleStatus"
          description: Statuser for avtale
        - in: query
          name: navRegioner
          schema:
            type: array
            items:
              type: string
          description: 4 digit enhetskode
        - in: query
          name: arrangorer
          schema:
            type: array
            items:
              type: string
              format: uuid
          description: Id til arrangør for avtaler
      responses:
        200:
          description: Object of paginated avtaler connected to specified tiltakstype-id where logged in user is responsible for avtale.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginertAvtale"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/avtaler/excel:
    get:
      tags:
        - Avtaler
      operationId: lastNedAvtalerSomExcel
      parameters:
        - in: query
          name: tiltakstyper
          schema:
            type: array
            items:
              type: string
          description: ID for tiltakstyper om du ønsker avtaler for en spesifikk tiltakstype
        - in: query
          name: search
          schema:
            type: string
          description: Search for avtaler by the name
        - in: query
          name: statuser
          schema:
            type: array
            items:
              $ref: "#/components/schemas/AvtaleStatus"
          description: Statuser for avtale
        - in: query
          name: avtaletyper
          schema:
            type: array
            items:
              $ref: "#/components/schemas/Avtaletype"
          description: Avtaletyper
        - in: query
          name: navRegioner
          schema:
            type: array
            items:
              type: string
          description: 4 digit enhetskode
        - in: query
          name: arrangorer
          schema:
            type: array
            items:
              type: string
              format: uuid
          description: Id til arrangører for avtaler
        - in: query
          name: page
          schema:
            type: number
          description: Page number, default 1
        - in: query
          name: size
          schema:
            type: number
          description: Page size, default 50
        - in: query
          name: sort
          schema:
            $ref: "#/components/schemas/SorteringAvtaler"
        - in: query
          name: personvernBekreftet
          schema:
            type: boolean
        - in: query
          name: visMineAvtaler
          schema:
            type: boolean
      responses:
        200:
          description: Excel-fil med avtaler
          content:
            application/vnd.openxmlformats-officedocument.spreadsheetml.sheet:
              schema:
                type: string
                format: binary
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/avtaler/kontaktperson:
    delete:
      tags:
        - Avtaler
      operationId: frikobleKontaktpersonFraAvtale
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FrikobleKontaktpersonRequest"
      responses:
        200:
          description: OK hvis frikobling gikk greit
          content:
            application/json:
              schema:
                type: string
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/avtaler/{id}/historikk:
    get:
      tags:
        - Avtaler
      operationId: getAvtaleEndringshistorikk
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
            format: uuid
          description: ID for avtalen
      responses:
        200:
          description: Endringshistorikken for avtalen
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Endringshistorikk"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/janzz/sertifiseringer/sok:
    get:
      tags:
        - sertifiseringer
        - janzz
      operationId: sokSertifiseringer
      parameters:
        - in: query
          name: q
          required: true
          schema:
            type: string
          description: search query
      responses:
        200:
          description: sertifiseringer etter søk
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Sertifisering"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/gjennomforinger/{id}/historikk:
    get:
      tags:
        - Gjennomforinger
      operationId: getGjennomforingEndringshistorikk
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
            format: uuid
          description: ID for gjennomføringen
      responses:
        200:
          description: Endringshistorikken for gjennomføringen
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Endringshistorikk"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/gjennomforinger/{id}/deltaker-summary:
    get:
      tags:
        - Gjennomforinger
      operationId: getGjennomforingDeltakerSummary
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
            format: uuid
          description: ID for gjennomføringen
      responses:
        200:
          description: Oppsummert informasjon om gjennomførings deltakere
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GjennomforingDeltakerSummary"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/gjennomforinger:
    get:
      tags:
        - Gjennomforinger
      operationId: getGjennomforinger
      parameters:
        - in: query
          name: page
          schema:
            type: number
          description: Page number, default 1
        - in: query
          name: search
          schema:
            type: string
          description: Search for gjennomføringer by the name
        - in: query
          name: navEnheter
          schema:
            type: array
            items:
              type: string
          description: 4 digit enhetskode
        - in: query
          name: tiltakstyper
          schema:
            type: array
            items:
              type: string
              format: uuid
          description: Id for tiltakstype knyttet til gjennomføringer
        - in: query
          name: statuser
          schema:
            type: array
            items:
              $ref: "#/components/schemas/GjennomforingStatus"
          description: Status for gjennomføring
        - in: query
          name: navRegioner
          schema:
            type: array
            items:
              type: string
        - in: query
          name: arrangorer
          schema:
            type: array
            items:
              type: string
              format: uuid
        - in: query
          name: publisert
          schema:
            type: [boolean, "null"]
        - in: query
          name: size
          schema:
            type: number
          description: Page size, default 50
        - in: query
          name: sort
          schema:
            $ref: "#/components/schemas/SorteringGjennomforinger"
        - in: query
          name: avtaleId
          schema:
            type: string
      responses:
        200:
          description: Object of paginated gjennomføringer.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginertGjennomforing"
        default:
          $ref: "#/components/responses/ProblemDetail"
    put:
      tags:
        - Gjennomforinger
      operationId: upsertGjennomforing
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GjennomforingRequest"
      responses:
        200:
          description: The specified gjennomføring with data about tiltakstype.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GjennomforingDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/gjennomforinger/mine:
    get:
      tags:
        - Gjennomforinger
      operationId: getMineGjennomforinger
      parameters:
        - in: query
          name: navEnheter
          schema:
            type: array
            items:
              type: string
          description: 4 digit enhetskode
        - in: query
          name: tiltakstyper
          schema:
            type: array
            items:
              type: string
              format: uuid
          description: Id for tiltakstype knyttet til gjennomføringer
        - in: query
          name: statuser
          schema:
            type: array
            items:
              $ref: "#/components/schemas/GjennomforingStatus"
          description: Status for gjennomføring
        - in: query
          name: navRegioner
          schema:
            type: array
            items:
              type: string
        - in: query
          name: arrangorer
          schema:
            type: array
            items:
              type: string
              format: uuid
        - in: query
          name: page
          schema:
            type: number
          description: Page number, default 1
        - in: query
          name: search
          schema:
            type: string
          description: Search for gjennomføringer by the name
        - in: query
          name: size
          schema:
            type: number
          description: Page size, default 50
        - in: query
          name: sort
          schema:
            $ref: "#/components/schemas/SorteringGjennomforinger"
        - in: query
          name: avtaleId
          schema:
            type: string
      responses:
        200:
          description: Object of paginated gjennomføringer where logged in user is responsible for gjennomføringen.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginertGjennomforing"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/gjennomforinger/excel:
    get:
      tags:
        - Gjennomforinger
      operationId: lastNedGjennomforingerSomExcel
      parameters:
        - in: query
          name: page
          schema:
            type: number
          description: Page number, default 1
        - in: query
          name: search
          schema:
            type: string
          description: Search for gjennomføringer by the name
        - in: query
          name: navEnheter
          schema:
            type: array
            items:
              type: string
          description: 4 digit enhetskode
        - in: query
          name: tiltakstyper
          schema:
            type: array
            items:
              type: string
              format: uuid
          description: Id for tiltakstype knyttet til gjennomføringer
        - in: query
          name: statuser
          schema:
            type: array
            items:
              $ref: "#/components/schemas/GjennomforingStatus"
          description: Status for gjennomføring
        - in: query
          name: navRegioner
          schema:
            type: array
            items:
              type: string
        - in: query
          name: arrangorer
          schema:
            type: array
            items:
              type: string
              format: uuid
        - in: query
          name: publisert
          schema:
            type: [boolean, "null"]
        - in: query
          name: size
          schema:
            type: number
          description: Page size, default 50
        - in: query
          name: sort
          schema:
            $ref: "#/components/schemas/SorteringGjennomforinger"
        - in: query
          name: avtaleId
          schema:
            type: string
        - in: query
          name: visMineTiltaksgjennomforinger
          schema:
            type: boolean
      responses:
        200:
          description: Excel-fil med gjennomforinger
          content:
            application/vnd.openxmlformats-officedocument.spreadsheetml.sheet:
              schema:
                type: string
                format: binary
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/gjennomforinger/{id}:
    parameters:
      - $ref: "#/components/parameters/ID"
    get:
      tags:
        - Gjennomforinger
      operationId: getGjennomforing
      responses:
        200:
          description: The specified gjennomføring with data about tiltakstype.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GjennomforingDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/gjennomforinger/{id}/tiltaksnummer:
    parameters:
      - $ref: "#/components/parameters/ID"
    get:
      tags:
        - Gjennomforinger
      operationId: getTiltaksnummer
      responses:
        200:
          description: Tiltaksnummer til gjennomføringen.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TiltaksnummerResponse"
        204:
          description: Gjennomføringen har enda ikke tiltaksnummer.
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/gjennomforinger/{id}/avbryt:
    parameters:
      - $ref: "#/components/parameters/ID"
    put:
      tags:
        - Gjennomforinger
      operationId: avbrytGjennomforing
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AvbrytelseRequest"
      responses:
        200:
          description: The specified gjennomføring you want to 'Avbryte'
          content:
            application/json:
              schema:
                type: string
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/gjennomforinger/{id}/tilgjengelig-for-veileder:
    parameters:
      - $ref: "#/components/parameters/ID"
    put:
      tags:
        - Gjennomforinger
      operationId: setPublisert
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PublisertRequest"
      responses:
        200:
          description: Update for 'tilgjengelig for veileder' was successful
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/gjennomforinger/{id}/apent-for-pamelding:
    parameters:
      - $ref: "#/components/parameters/ID"
    put:
      tags:
        - Gjennomforinger
      operationId: setApentForPamelding
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SetApentForPameldingRequest"
      responses:
        200:
          description: OK
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/gjennomforinger/{id}/tilgjengelig-for-arrangor:
    parameters:
      - $ref: "#/components/parameters/ID"
    put:
      tags:
        - Gjennomforinger
      operationId: setTilgjengeligForArrangor
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SetTilgjengligForArrangorRequest"
      responses:
        200:
          description: OK
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/gjennomforinger/{id}/stengt-hos-arrangor:
    parameters:
      - $ref: "#/components/parameters/ID"
    put:
      tags:
        - Gjennomforinger
      operationId: setStengtHosArrangor
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SetStengtHosArrangorRequest"
      responses:
        200:
          description: OK
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/gjennomforinger/{id}/stengt-hos-arrangor/{periodeId}:
    parameters:
      - $ref: "#/components/parameters/ID"
      - name: periodeId
        in: path
        description: Id til periode som skal slettes
        required: true
        schema:
          type: number
    delete:
      tags:
        - Gjennomforinger
      operationId: deleteStengtHosArrangor
      responses:
        200:
          description: OK
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/gjennomforinger/kontaktperson:
    delete:
      tags:
        - Gjennomforinger
      operationId: frikobleKontaktpersonFraGjennomforing
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FrikobleKontaktpersonRequest"
      responses:
        200:
          description: OK hvis frikobling gikk greit
          content:
            application/json:
              schema:
                type: string
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/tiltakstyper:
    get:
      tags:
        - Tiltakstyper
      operationId: getTiltakstyper
      parameters:
        - in: query
          name: sort
          schema:
            $ref: "#/components/schemas/SorteringTiltakstyper"
      responses:
        200:
          description: Object of paginerte tiltakstyper.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TiltakstypeDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/tiltakstyper/{id}:
    get:
      tags:
        - Tiltakstyper
      operationId: getTiltakstypeById
      parameters:
        - $ref: "#/components/parameters/ID"
      responses:
        200:
          description: the specified tiltakstype
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TiltakstypeDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/tiltakstyper/{id}/faneinnhold:
    get:
      tags:
        - Tiltakstyper
      operationId: getTiltakstypeFaneinnhold
      parameters:
        - $ref: "#/components/parameters/ID"
      responses:
        200:
          description: Faneinnhold for the specified tiltakstype
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/VeilederflateTiltakstype"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/ansatt:
    get:
      tags:
        - Ansatt
      operationId: hentAnsatte
      parameters:
        - in: query
          name: roller
          schema:
            type: array
            items:
              $ref: "#/components/schemas/Rolle"
          description: Nav-Ansatt rollen du ønsker å filtrere på
      responses:
        200:
          description: Get list of employeees
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NavAnsatt"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/ansatt/me:
    get:
      tags:
        - Ansatt
      operationId: hentInfoOmAnsatt
      responses:
        200:
          description: Information about employee
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/NavAnsatt"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/ansatt/sok:
    get:
      tags:
        - Ansatt
      operationId: sokAnsatt
      parameters:
        - in: query
          name: q
          required: true
          schema:
            type: string
          description: search query
      responses:
        200:
          description: Information about employee
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NavAnsatt"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/nav-enheter:
    get:
      tags:
        - NavEnheter
      operationId: getEnheter
      responses:
        200:
          description: Alle enheter filterert på filter
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NavEnhetDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/nav-enheter/regioner:
    get:
      tags:
        - NavEnheter
      operationId: getRegioner
      responses:
        200:
          description: Liste over regioner med underenheter
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NavRegionDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/nav-enheter/kostnadssted:
    get:
      tags:
        - NavEnheter
      operationId: getKostnadssted
      parameters:
        - in: query
          name: regioner
          schema:
            type: array
            items:
              type: string
          description: Hvilke regioner man henter for
      responses:
        200:
          description: Alle kostnadssteder filterert på filter
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NavEnhetDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/nav-enheter/{enhetsnummer}/overordnet:
    parameters:
      - in: "path"
        name: enhetsnummer
        required: true
        description: "Enhetsnummer for Nav-enhet"
        schema:
          type: string
    get:
      tags:
        - NavEnheter
      operationId: getOverordnetEnhet
      responses:
        200:
          description: Overordnet enhet for enhetsnummer
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/NavEnhetDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/arrangorer:
    get:
      tags:
        - Arrangor
      operationId: getArrangorer
      parameters:
        - in: query
          name: page
          schema:
            type: number
          description: Page number, default 1
        - in: query
          name: size
          schema:
            type: number
          description: Page size, default 50
        - in: query
          name: til
          schema:
            $ref: "#/components/schemas/ArrangorTil"
          description: Hent arrangører tilhørende avtaler eller gjennomforinger
        - in: query
          name: sok
          schema:
            type: string
          description: Søk i fritekst etter arrangør
        - in: query
          name: sortering
          schema:
            $ref: "#/components/schemas/SorteringArrangorer"
      responses:
        200:
          description: Paginert liste med virksomheter
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginertArrangor"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/arrangorer/{id}:
    get:
      tags:
        - Arrangor
      operationId: getArrangorById
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Arrangor for id
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Arrangor"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/arrangorer/hovedenhet/{id}:
    get:
      tags:
        - Arrangor
      operationId: getArrangorHovedenhetById
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Hovedenhet for arrangør for id
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Arrangor"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/arrangorer/{orgnr}:
    post:
      tags:
        - Arrangor
      operationId: syncArrangorFromBrreg
      parameters:
        - in: path
          name: orgnr
          required: true
          schema:
            type: string
          description: 9-sifret organisasjonsnummer
      responses:
        200:
          description: Arrangor som matcher organisasjonsnummeret
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Arrangor"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/arrangorer/{orgnr}/kontonummer:
    get:
      tags:
        - Arrangor
      operationId: getKontonummerForArrangor
      parameters:
        - in: path
          name: orgnr
          required: true
          schema:
            type: string
          description: 9-sifret organisasjonsnummer
      responses:
        200:
          description: Kontonummer for arrangør
          content:
            text/plain:
              schema:
                type: string
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/arrangorer/{id}/kontaktpersoner:
    get:
      tags:
        - Arrangor
      operationId: getArrangorKontaktpersoner
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: Kontaktpersoner lagret på arrangøren
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ArrangorKontaktperson"
        default:
          $ref: "#/components/responses/ProblemDetail"
    put:
      tags:
        - Arrangor
      operationId: upsertArrangorKontaktperson
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ArrangorKontaktpersonRequest"
      responses:
        200:
          description: Opprettet kontaktperson
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ArrangorKontaktperson"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/arrangorer/kontaktperson/{id}:
    get:
      tags:
        - Arrangor
      operationId: getKoblingerTilDokumenter
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: uuid til kontaktpersonen
      responses:
        200:
          description: Koblinger til gjennomføringer og avtaler for kontaktperson
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/KoblingerForKontaktperson"
        default:
          $ref: "#/components/responses/ProblemDetail"
    delete:
      tags:
        - Arrangor
      operationId: deleteArrangorKontaktperson
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: uuid til kontaktpersonen
      responses:
        200:
          description: Om kontaktpersonen ble slettet eller ikke
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/brreg/sok:
    get:
      tags:
        - Brreg
      operationId: sokBrregHovedenhet
      parameters:
        - in: query
          name: sok
          required: true
          schema:
            type: string
          description: Søkestreng for navn på hovedenheter fra brreg
      responses:
        200:
          description: Liste med hovedenheter
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/BrregVirksomhet"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/brreg/{orgnr}/underenheter:
    get:
      tags:
        - Brreg
      operationId: getBrregUnderenheter
      parameters:
        - in: path
          name: orgnr
          required: true
          schema:
            type: string
          description: 9-sifret organisasjonsnummer
      responses:
        200:
          description: Underenheter til brreg hovedenhet som matcher organisasjonsnummeret
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/BrregVirksomhet"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/notifications:
    get:
      tags:
        - Notifications
      operationId: getNotifications
      parameters:
        - in: query
          name: status
          schema:
            $ref: "#/components/schemas/NotificationStatus"
          description: Status for notifikasjon
      responses:
        200:
          description: Notifications for the user that is currently signed in.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginertUserNotifications"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/notifications/summary:
    get:
      tags:
        - Notifications
      operationId: getNotificationSummary
      responses:
        200:
          description: Notifications for the user that is currently signed in.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserNotificationSummary"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/notifications/status:
    post:
      tags:
        - Notifications
      operationId: setNotificationStatus
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SetNotificationStatusRequest"
        required: true
      responses:
        200:
          description: OK
          content:
            text/plain:
              schema:
                type: string
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/features:
    parameters:
      - in: query
        name: feature
        description: Navn på feature toggle
        required: true
        schema:
          $ref: "#/components/schemas/Toggles"

      - in: query
        name: tiltakskoder
        schema:
          type: array
          items:
            $ref: "#/components/schemas/Tiltakskode"
    get:
      tags:
        - FeatureToggle
      operationId: getFeatureToggle
      responses:
        200:
          description: Hent verdi for feature toggle
          content:
            application/json:
              schema:
                type: boolean
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/personopplysninger:
    get:
      tags:
        - Personopplysninger
      operationId: getPersonopplysninger
      responses:
        200:
          description: "Personopplysninger"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PersonopplysningData"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/avtaler/{id}/opsjoner:
    parameters:
      - $ref: "#/components/parameters/ID"
    post:
      tags:
        - Opsjoner
      operationId: lagreOpsjon
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/OpprettOpsjonLoggRequest"
      responses:
        204:
          description: "Lagret ok"
          content:
            text/plain:
              schema:
                type: string
        default:
          $ref: "#/components/responses/ProblemDetail"
    delete:
      tags:
        - Opsjoner
      operationId: slettOpsjon
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SlettOpsjonLoggRequest"
      responses:
        204:
          description: "Sletting ok"
          content:
            text/plain:
              schema:
                type: string
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/lagret-filter:
    post:
      tags:
        - LagretFilter
      operationId: upsertFilter
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LagretFilter"
      responses:
        204:
          description: "Lagret ok"
          content:
            text/plain:
              schema:
                type: string
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/lagret-filter/mine/{dokumenttype}:
    get:
      tags:
        - LagretFilter
      operationId: getMineFilterForDokumenttype
      parameters:
        - in: path
          name: dokumenttype
          description: type dokument
          schema:
            $ref: "#/components/schemas/LagretFilterType"
          required: true
      responses:
        200:
          description: "Lagrede filter for bruker for gitt dokumenttype"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/LagretFilter"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/lagret-filter/{id}:
    delete:
      tags:
        - LagretFilter
      operationId: slettLagretFilter
      parameters:
        - in: path
          name: id
          description: Id for filter
          schema:
            type: string
            format: uuid
          required: true
      responses:
        204:
          description: "Ok ved sletting"
          content:
            text/plain:
              schema:
                type: string
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/tilsagn:
    put:
      tags:
        - Tilsagn
      operationId: opprettTilsagn
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TilsagnRequest"
      responses:
        200:
          description: TiltagnDto
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TilsagnDto"
        default:
          $ref: "#/components/responses/ProblemDetail"
    get:
      tags:
        - Tilsagn
      operationId: getAll
      parameters:
        - name: gjennomforingId
          in: query
          schema:
            type: string
            format: uuid
        - in: query
          name: statuser
          schema:
            type: array
            items:
              $ref: "#/components/schemas/TilsagnStatus"
      responses:
        200:
          description: TiltagnDto
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TilsagnDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/gjennomforinger/{gjennomforingId}/utbetalinger:
    parameters:
      - $ref: "#/components/parameters/gjennomforingId"
    get:
      tags:
        - Utbetaling
      operationId: utbetalingerByGjennomforing
      responses:
        200:
          description: Utbetaling
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UtbetalingKompaktDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/utbetaling/{id}:
    parameters:
      - $ref: "#/components/parameters/ID"
    get:
      tags:
        - Utbetaling
      operationId: getUtbetaling
      responses:
        200:
          description: Utbetaling
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UtbetalingDetaljerDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/utbetaling/{id}/avbryt:
    parameters:
      - $ref: "#/components/parameters/ID"
    post:
      tags:
        - Utbetaling
      operationId: avbrytUtbetaling
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AarsakerOgForklaringRequest"
      responses:
        200:
          description: OK
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/utbetaling/{id}/beslutt-avbryt:
    parameters:
      - $ref: "#/components/parameters/ID"
    post:
      tags:
        - Utbetaling
      operationId: besluttAvbryt
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BesluttTotrinnskontrollRequest"
      responses:
        200:
          description: OK
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/utbetaling/{id}/beregning:
    parameters:
      - $ref: "#/components/parameters/ID"
    get:
      parameters:
        - in: query
          name: navEnheter
          schema:
            type: array
            items:
              type: string
      tags:
        - Utbetaling
      operationId: getUtbetalingBeregning
      responses:
        200:
          description: Filtrert utbetaling beregning
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UtbetalingBeregningDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/utbetaling/{id}/historikk:
    get:
      tags:
        - Utbetaling
      operationId: getUtbetalingEndringshistorikk
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
            format: uuid
          description: ID for utbetaling
      responses:
        200:
          description: Endringshistorikken for utbetaling
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Endringshistorikk"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/utbetaling/{id}/tilsagn:
    parameters:
      - $ref: "#/components/parameters/ID"
    get:
      tags:
        - Utbetaling
      operationId: getTilsagnTilUtbetaling
      responses:
        200:
          description: Tilsagn til utbetaling
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TilsagnDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/delutbetalinger:
    parameters:
      - $ref: "#/components/parameters/ID"
    put:
      tags:
        - Utbetaling
      operationId: opprettDelutbetalinger
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/OpprettDelutbetalingerRequest"
      responses:
        200:
          description: OK
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/delutbetalinger/{id}/beslutt:
    parameters:
      - $ref: "#/components/parameters/ID"
    post:
      tags:
        - Utbetaling
      operationId: besluttDelutbetaling
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BesluttTotrinnskontrollRequest"
      responses:
        200:
          description: OK
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/utbetaling/{id}/opprett-utbetaling:
    parameters:
      - $ref: "#/components/parameters/ID"
    post:
      tags:
        - Utbetaling
      operationId: opprettUtbetaling
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/OpprettUtbetalingRequest"
      responses:
        201:
          description: Created
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/tilsagn/beregn:
    post:
      tags:
        - Beregn Tilsagn
      operationId: beregnTilsagn
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TilsagnBeregningInput"
      responses:
        200:
          description: TilsagnBeregning
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TilsagnBeregningDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/tilsagn/defaults:
    post:
      tags:
        - Tilsagn
      operationId: getTilsagnDefaults
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TilsagnDefaultsRequest"
      responses:
        200:
          description: Standardverdier for neste tilsagn
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TilsagnDefaults"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/tilsagn/{id}:
    parameters:
      - $ref: "#/components/parameters/ID"
    get:
      tags:
        - Tilsagn
      operationId: getTilsagn
      responses:
        200:
          description: TilsagnDto
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TilsagnDetaljerDto"
        default:
          $ref: "#/components/responses/ProblemDetail"
    delete:
      tags:
        - Tilsagn
      operationId: slettTilsagn
      responses:
        200:
          description: OK
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/tilsagn/{id}/historikk:
    get:
      tags:
        - Tilsagn
      operationId: getTilsagnEndringshistorikk
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
            format: uuid
          description: ID for tilsagn
      responses:
        200:
          description: Endringshistorikken for tilsagn
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Endringshistorikk"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/tilsagn/{id}/til-annullering:
    parameters:
      - $ref: "#/components/parameters/ID"
    post:
      tags:
        - Tilsagn
      operationId: tilAnnullering
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AarsakerOgForklaringRequest"
      responses:
        200:
          description: OK
          content:
            text/plain:
              schema:
                type: string
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/tilsagn/{id}/gjor-opp:
    parameters:
      - $ref: "#/components/parameters/ID"
    post:
      tags:
        - Tilsagn
      operationId: gjorOpp
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AarsakerOgForklaringRequest"
      responses:
        200:
          description: OK
          content:
            text/plain:
              schema:
                type: string
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/tilsagn/{id}/beslutt:
    parameters:
      - $ref: "#/components/parameters/ID"
    post:
      tags:
        - Tilsagn
      operationId: besluttTilsagn
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BesluttTotrinnskontrollRequest"
      responses:
        200:
          description: OK
          content:
            text/plain:
              schema:
                type: string
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/avtaler/{id}/satser:
    get:
      tags:
        - Avtaler
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
            format: uuid
      operationId: getAvtalteSatser
      responses:
        200:
          description: Avtalte satser for avtale
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/AvtaltSatsDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/prismodeller:
    get:
      tags:
        - Prismodell
      parameters:
        - in: query
          name: tiltakstype
          required: true
          schema:
            $ref: "#/components/schemas/Tiltakskode"
      operationId: getPrismodeller
      responses:
        200:
          description: Prismodeller for tiltakstype
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PrismodellOgBeskrivelse"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/prismodeller/forhandsgodkjente-satser:
    get:
      tags:
        - Prismodell
      parameters:
        - in: query
          name: tiltakstype
          required: true
          schema:
            $ref: "#/components/schemas/Tiltakskode"
      operationId: getForhandsgodkjenteSatser
      responses:
        200:
          description: Avtalte satser for avtale
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/AvtaltSatsDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/utdanninger:
    get:
      tags:
        - Utdanninger
      operationId: getUtdanningsprogrammer
      responses:
        200:
          description: Alle utdanningsprogram med utdanninger
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UtdanningsprogramMedUtdanninger"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/oppgaver:
    post:
      tags:
        - Oppgaver
      operationId: getOppgaver
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GetOppgaverRequest"
        required: true
      responses:
        200:
          description: Notifications for the user that is currently signed in.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Oppgave"
        default:
          $ref: "#/components/responses/ProblemDetail"

  /api/v1/intern/oppgaver/oppgavetyper:
    get:
      tags:
        - Oppgaver
      operationId: getOppgavetyper
      responses:
        200:
          description: Relevante oppgavetyper
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/OppgaveTypeDto"
        default:
          $ref: "#/components/responses/ProblemDetail"

components:
  responses:
    ProblemDetail:
      description: Common error type
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ProblemDetail"
    ValidationError:
      description: Validation error
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ValidationError"
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  parameters:
    ID:
      name: id
      in: path
      description: ID
      required: true
      schema:
        type: string
        format: uuid

    gjennomforingId:
      name: gjennomforingId
      in: path
      description: Gjennomforing Id
      required: true
      schema:
        type: string
        format: uuid

    OrgnrParam:
      in: path
      name: orgnr
      description: organisasjonsnummer
      required: true
      schema:
        type: string

  schemas:
    ProblemDetail:
      type: object
      properties:
        type:
          type: string
        title:
          type: string
        status:
          type: number
        detail:
          type: string
        instance:
          type: string
      required: [type, title, status, detail]
      additionalProperties: true

    ValidationError:
      allOf:
        - $ref: "#/components/schemas/ProblemDetail"
        - type: object
          properties:
            errors:
              type: array
              items:
                $ref: "#/components/schemas/FieldError"
          required: [errors]

    FieldError:
      type: object
      properties:
        detail:
          type: string
        pointer:
          type: string
      required: [detail, pointer]

    Pagination:
      type: object
      properties:
        totalCount:
          type: integer
        totalPages:
          type: integer
        pageSize:
          type: integer
      required:
        - totalCount
        - totalPages
        - pageSize

    PaginertGjennomforing:
      type: object
      required:
        - pagination
        - data
      properties:
        pagination:
          $ref: "#/components/schemas/Pagination"
        data:
          type: array
          items:
            $ref: "#/components/schemas/GjennomforingDto"

    PaginertAvtale:
      type: object
      required:
        - pagination
        - data
      properties:
        pagination:
          $ref: "#/components/schemas/Pagination"
        data:
          type: array
          items:
            $ref: "#/components/schemas/AvtaleDto"

    PaginertArrangor:
      type: object
      required:
        - pagination
        - data
      properties:
        pagination:
          $ref: "#/components/schemas/Pagination"
        data:
          type: array
          items:
            $ref: "#/components/schemas/Arrangor"

    TiltakskodeArena:
      type: string
      enum:
        - IPSUNG
        - INKLUTILS
        - HOYEREUTD
        - ENKELAMO
        - GRUFAGYRKE
        - ARBTREN
        - ARBFORB
        - MIDLONTIL
        - TILSJOBB
        - ENKFAGYRKE
        - INDJOBSTOT
        - AVKLARAG
        - DIGIOPPARB
        - MENTOR
        - INDOPPFAG
        - GRUPPEAMO
        - VASV
        - ARBRRHDAG
        - JOBBK
        - VATIAROR
        - VARLONTIL
        - UTVAOONAV

    TiltakstypeDto:
      type: object
      properties:
        id:
          type: string
          format: uuid
        navn:
          type: string
        innsatsgrupper:
          type: array
          items:
            $ref: "#/components/schemas/Innsatsgruppe"
        tiltakskode:
          $ref: "#/components/schemas/Tiltakskode"
        arenaKode:
          $ref: "#/components/schemas/TiltakskodeArena"
        startDato:
          type: string
          format: date
        sluttDato:
          type: string
          format: date
        status:
          $ref: "#/components/schemas/TiltakstypeStatus"
        sanityId:
          type: string
      required:
        - id
        - navn
        - arenaKode
        - startDato
        - status

    AvtaleDto:
      type: object
      properties:
        id:
          type: string
          format: uuid
        tiltakstype:
          $ref: "#/components/schemas/EmbeddedTiltakstype"
        navn:
          type: string
        avtalenummer:
          type: string
        sakarkivNummer:
          type: [string, "null"]
        arrangor:
          $ref: "#/components/schemas/AvtaleArrangorHovedenhet"
        startDato:
          type: string
          format: date
        sluttDato:
          type: [string, "null"]
          format: date
        avtaletype:
          $ref: "#/components/schemas/Avtaletype"
        status:
          $ref: "#/components/schemas/AvtaleStatusDto"
        arenaAnsvarligEnhet:
          $ref: "#/components/schemas/ArenaNavEnhet"
        administratorer:
          type: array
          items:
            $ref: "#/components/schemas/AvtaleAdministrator"
        antallPlasser:
          type: [number, "null"]
        kontorstruktur:
          $ref: "#/components/schemas/Kontorstruktur"
        opphav:
          $ref: "#/components/schemas/Opphav"
        beskrivelse:
          type: string
        faneinnhold:
          $ref: "#/components/schemas/Faneinnhold"
        personopplysninger:
          type: array
          items:
            $ref: "#/components/schemas/Personopplysning"
        personvernBekreftet:
          type: boolean
        amoKategorisering:
          anyOf:
            - type: ["null"]
            - $ref: "#/components/schemas/AmoKategorisering"
        opsjonsmodell:
          $ref: "#/components/schemas/Opsjonsmodell"
        opsjonerRegistrert:
          type: array
          items:
            $ref: "#/components/schemas/OpsjonLoggRegistrert"
        utdanningslop:
          anyOf:
            - type: ["null"]
            - $ref: "#/components/schemas/Utdanningslop"
        prismodell:
          $ref: "#/components/schemas/PrismodellDto"
      required:
        - id
        - tiltakstype
        - navn
        - avtalenummer
        - startDato
        - avtaletype
        - status
        - kontorstruktur
        - opphav
        - personopplysninger
        - personvernBekreftet
        - amoKategorisering
        - opsjonsmodell
        - opsjonerRegistrert
        - utdanningslop
        - prismodell

    PrismodellDto:
      oneOf:
        - $ref: "#/components/schemas/PrismodellDtoAnnenAvtaltPris"
        - $ref: "#/components/schemas/PrismodellDtoForhandsgodkjentPrisPerManedsverk"
        - $ref: "#/components/schemas/PrismodellDtoAvtaltPrisPerManedsverk"
        - $ref: "#/components/schemas/PrismodellDtoAvtaltPrisPerUkesverk"

    PrismodellDtoAnnenAvtaltPris:
      type: object
      properties:
        type:
          type: string
          const: ANNEN_AVTALT_PRIS
        prisbetingelser:
          type: [string, "null"]
      required: [type, prisbetingelser]

    PrismodellDtoForhandsgodkjentPrisPerManedsverk:
      type: object
      properties:
        type:
          type: string
          const: FORHANDSGODKJENT_PRIS_PER_MANEDSVERK
      required: [type]

    PrismodellDtoAvtaltPrisPerManedsverk:
      type: object
      properties:
        type:
          type: string
          const: AVTALT_PRIS_PER_MANEDSVERK
        prisbetingelser:
          type: [string, "null"]
        satser:
          type: array
          items:
            $ref: "#/components/schemas/AvtaltSatsDto"
      required: [type, prisbetingelser, satser]

    PrismodellDtoAvtaltPrisPerUkesverk:
      type: object
      properties:
        type:
          type: string
          const: AVTALT_PRIS_PER_UKESVERK
        prisbetingelser:
          type: [string, "null"]
        satser:
          type: array
          items:
            $ref: "#/components/schemas/AvtaltSatsDto"
      required: [type, prisbetingelser, satser]

    PrismodellDtoAvtaltPrisPerTimeOppfolgingPerDeltaker:
      type: object
      properties:
        type:
          type: string
          const: AVTALT_PRIS_PER_TIME_OPPFOLGING_PER_DELTAKER
        prisbetingelser:
          type: [string, "null"]
        satser:
          type: array
          items:
            $ref: "#/components/schemas/AvtaltSatsDto"
      required: [type, prisbetingelser, satser]

    AvtaleRequest:
      type: object
      properties:
        id:
          type: string
          format: UUID
        navn:
          type: string
        tiltakKode:
          type: string
        avtalenummer:
          type: [string, "null"]
        sakarkivNummer:
          type: [string, "null"]
        arrangor:
          anyOf:
            - type: "null"
            - type: object
              properties:
                hovedenhet:
                  type: string
                underenheter:
                  type: array
                  items:
                    type: string
                kontaktpersoner:
                  type: array
                  items:
                    type: string
                    format: UUID
              required:
                - hovedenhet
                - underenheter
                - kontaktpersoner
        startDato:
          type: string
          format: date
        sluttDato:
          type: [string, "null"]
          format: date
        administratorer:
          type: array
          items:
            type: string
        avtaletype:
          $ref: "#/components/schemas/Avtaletype"
        prismodell:
          type: object
          properties:
            prisbetingelser:
              type: [string, "null"]
            type:
              $ref: "#/components/schemas/Prismodell"
            satser:
              type: array
              items:
                $ref: "#/components/schemas/AvtaltSatsDto"
          required: [type, satser, prisbetingelser]
        navEnheter:
          type: array
          items:
            type: string
        beskrivelse:
          type: [string, "null"]
        faneinnhold:
          anyOf:
            - type: "null"
            - $ref: "#/components/schemas/FaneinnholdRequest"
        personopplysninger:
          type: array
          items:
            $ref: "#/components/schemas/Personopplysning"
        personvernBekreftet:
          type: boolean
        amoKategorisering:
          anyOf:
            - type: "null"
            - $ref: "#/components/schemas/AmoKategorisering"
        opsjonsmodell:
          $ref: "#/components/schemas/Opsjonsmodell"
        utdanningslop:
          anyOf:
            - type: "null"
            - $ref: "#/components/schemas/UtdanningslopDbo"
      required:
        - id
        - navn
        - tiltakKode
        - arrangorOrganisasjonsnummer
        - arrangorUnderenheter
        - arrangorKontaktpersonId
        - avtalenummer
        - startDato
        - sluttDato
        - administrator
        - avtaletype
        - navEnheter
        - beskrivelse
        - faneinnhold
        - personopplysninger
        - personvernBekreftet
        - amoKategorisering
        - opsjonsmodell
        - utdanningslop
        - prismodell

    Prismodell:
      type: string
      enum:
        - ANNEN_AVTALT_PRIS
        - FORHANDSGODKJENT_PRIS_PER_MANEDSVERK
        - AVTALT_PRIS_PER_MANEDSVERK
        - AVTALT_PRIS_PER_UKESVERK

    EmbeddedTiltakstype:
      type: object
      properties:
        id:
          type: string
          format: uuid
        navn:
          type: string
        tiltakskode:
          $ref: "#/components/schemas/Tiltakskode"
      required:
        - id
        - navn
        - arenaKode
        - tiltakskode

    Avtaletype:
      type: string
      enum:
        - AVTALE
        - RAMMEAVTALE
        - FORHANDSGODKJENT
        - OFFENTLIG_OFFENTLIG

    AvtaleStatus:
      type: string
      enum:
        - AKTIV
        - AVSLUTTET
        - AVBRUTT
        - UTKAST

    AvtaleStatusDto:
      oneOf:
        - $ref: "#/components/schemas/AvtaleStatusUtkast"
        - $ref: "#/components/schemas/AvtaleStatusAktiv"
        - $ref: "#/components/schemas/AvtaleStatusAvbrutt"
        - $ref: "#/components/schemas/AvtaleStatusAvsluttet"
      discriminator:
        propertyName: type
        mapping:
          UTKAST: "#/components/schemas/AvtaleStatusUtkast"
          AKTIV: "#/components/schemas/AvtaleStatusAktiv"
          AVBRUTT: "#/components/schemas/AvtaleStatusAvbrutt"
          AVSLUTTET: "#/components/schemas/AvtaleStatusAvsluttet"

    AvtaleStatusAktiv:
      type: object
      properties:
        type:
          type: string
          const: AKTIV
      required:
        - type

    AvtaleStatusUtkast:
      type: object
      properties:
        type:
          type: string
          const: UTKAST
      required:
        - type

    AvtaleStatusAvsluttet:
      type: object
      properties:
        type:
          type: string
          const: AVSLUTTET
      required:
        - type

    AvtaleStatusAvbrutt:
      type: object
      properties:
        type:
          type: string
          const: AVBRUTT
        tidspunkt:
          type: string
          format: date-time
        aarsak:
          $ref: "#/components/schemas/AvbrytAvtaleAarsak"
        beskrivelse:
          type: string
      required:
        - type
        - tidspunkt
        - aarsak
        - beskrivelse

    NotificationStatus:
      type: string
      enum:
        - READ
        - UNREAD

    OppgaveTypeDto:
      type: object
      properties:
        navn:
          type: string
        type:
          $ref: "#/components/schemas/OppgaveType"
      required:
        - navn
        - type

    OppgaveType:
      type: string
      enum:
        - TILSAGN_TIL_GODKJENNING
        - TILSAGN_TIL_ANNULLERING
        - TILSAGN_TIL_OPPGJOR
        - TILSAGN_RETURNERT
        - UTBETALING_TIL_BEHANDLING
        - UTBETALING_TIL_ATTESTERING
        - UTBETALING_TIL_AVBRYTELSE
        - UTBETALING_RETURNERT
        - AVTALE_MANGLER_ADMINISTRATOR
        - GJENNOMFORING_MANGLER_ADMINISTRATOR

    SorteringAvtaler:
      type: string
      enum:
        - navn-ascending
        - navn-descending
        - startdato-ascending
        - startdato-descending
        - sluttdato-ascending
        - sluttdato-descending
        - arrangor-ascending
        - arrangor-descending

    SorteringTiltakstyper:
      type: string
      enum:
        - navn-ascending
        - navn-descending
        - startdato-ascending
        - startdato-descending
        - sluttdato-ascending
        - sluttdato-descending

    SorteringGjennomforinger:
      type: string
      enum:
        - navn-ascending
        - navn-descending
        - tiltaksnummer-ascending
        - tiltaksnummer-descending
        - tiltakstype-ascending
        - tiltakstype-descending
        - startdato-ascending
        - startdato-descending
        - sluttdato-ascending
        - sluttdato-descending
        - arrangor-ascending
        - arrangor-descending
        - publisert_ascending
        - publisert_descending

    SorteringArrangorer:
      type: string
      enum:
        - navn-ascending
        - navn-descending

    GjennomforingDto:
      type: object
      properties:
        id:
          type: string
          format: uuid
        tiltakstype:
          $ref: "#/components/schemas/EmbeddedTiltakstype"
        navn:
          type: string
        tiltaksnummer:
          type: [string, "null"]
        arrangor:
          $ref: "#/components/schemas/GjennomforingArrangorUnderenhet"
        startDato:
          type: string
          format: date
        sluttDato:
          type: string
          format: date
        arenaAnsvarligEnhet:
          $ref: "#/components/schemas/ArenaNavEnhet"
        status:
          $ref: "#/components/schemas/GjennomforingStatusDto"
        apentForPamelding:
          type: boolean
        antallPlasser:
          type: integer
        avtaleId:
          type: string
          format: uuid
        administratorer:
          type: array
          items:
            $ref: "#/components/schemas/GjennomforingAdministrator"
        kontorstruktur:
          $ref: "#/components/schemas/Kontorstruktur"
        sanityId:
          type: string
          format: uuid
        oppstart:
          $ref: "#/components/schemas/GjennomforingOppstartstype"
        opphav:
          $ref: "#/components/schemas/Opphav"
        kontaktpersoner:
          type: array
          items:
            $ref: "#/components/schemas/GjennomforingKontaktperson"
        stedForGjennomforing:
          type: string
        faneinnhold:
          $ref: "#/components/schemas/Faneinnhold"
        beskrivelse:
          type: string
        publisert:
          type: boolean
        deltidsprosent:
          type: number
        estimertVentetid:
          anyOf:
            - type: ["null"]
            - $ref: "#/components/schemas/EstimertVentetid"
        tilgjengeligForArrangorDato:
          type: [string, "null"]
          format: date
        amoKategorisering:
          anyOf:
            - type: ["null"]
            - $ref: "#/components/schemas/AmoKategorisering"
        utdanningslop:
          anyOf:
            - type: ["null"]
            - $ref: "#/components/schemas/Utdanningslop"
        stengt:
          type: array
          items:
            $ref: "#/components/schemas/StengtPeriode"
      required:
        - id
        - tiltakstype
        - navn
        - tiltaksnummer
        - arrangor
        - startDato
        - sluttDato
        - status
        - apentForPamelding
        - administratorer
        - kontorstruktur
        - oppstart
        - opphav
        - kontaktpersoner
        - publisert
        - deltidsprosent
        - tilgjengeligForArrangorDato
        - amoKategorisering
        - stengt

    TiltaksnummerResponse:
      type: object
      properties:
        tiltaksnummer:
          type: string
      required:
        - tiltaksnummer

    GjennomforingRequest:
      type: object
      properties:
        id:
          type: string
          format: UUID
        tiltakstypeId:
          type: string
          format: UUID
        avtaleId:
          type: string
          format: UUID
        navn:
          type: string
        startDato:
          type: string
          format: date
        sluttDato:
          type: [string, "null"]
          format: date
        antallPlasser:
          type: number
        arrangorId:
          type: string
          format: uuid
        arrangorKontaktpersoner:
          type: array
          items:
            type: string
            format: UUID
        administratorer:
          type: array
          items:
            type: string
        navEnheter:
          type: array
          items:
            type: string
        oppstart:
          $ref: "#/components/schemas/GjennomforingOppstartstype"
        kontaktpersoner:
          type: array
          items:
            $ref: "#/components/schemas/GjennomforingKontaktpersonRequest"
        stedForGjennomforing:
          type: [string, "null"]
        faneinnhold:
          anyOf:
            - type: ["null"]
            - $ref: "#/components/schemas/FaneinnholdRequest"
        beskrivelse:
          type: [string, "null"]
        deltidsprosent:
          type: number
        estimertVentetid:
          anyOf:
            - type: "null"
            - type: object
              properties:
                verdi:
                  type: number
                enhet:
                  type: string
        tilgjengeligForArrangorDato:
          type: [string, "null"]
          format: date
        amoKategorisering:
          anyOf:
            - type: ["null"]
            - $ref: "#/components/schemas/AmoKategorisering"
        utdanningslop:
          anyOf:
            - type: ["null"]
            - $ref: "#/components/schemas/UtdanningslopDbo"
      required:
        - id
        - tiltakstypeId
        - avtaleId
        - navn
        - startDato
        - sluttDato
        - antallPlasser
        - arrangorId
        - arrangorKontaktpersoner
        - administrator
        - navEnheter
        - oppstart
        - kontaktpersoner
        - stedForGjennomforing
        - faneinnhold
        - beskrivelse
        - deltidsprosent
        - estimertVentetid
        - tilgjengeligForArrangorDato
        - amoKategorisering
        - utdanningslop

    GjennomforingStatusDto:
      oneOf:
        - $ref: "#/components/schemas/GjennomforingStatusGjennomfores"
        - $ref: "#/components/schemas/GjennomforingStatusAvsluttet"
        - $ref: "#/components/schemas/GjennomforingStatusAvbrutt"
        - $ref: "#/components/schemas/GjennomforingStatusAvlyst"
      discriminator:
        propertyName: type
        mapping:
          GJENNOMFORES: "#/components/schemas/GjennomforingStatusGjennomfores"
          AVSLUTTET: "#/components/schemas/GjennomforingStatusAvsluttet"
          AVBRUTT: "#/components/schemas/GjennomforingStatusAvbrutt"
          AVLYST: "#/components/schemas/GjennomforingStatusAvlyst"

    GjennomforingStatusGjennomfores:
      type: object
      properties:
        type:
          const: GJENNOMFORES
      required:
        - type

    GjennomforingStatusAvsluttet:
      type: object
      properties:
        type:
          const: AVSLUTTET
      required:
        - type

    GjennomforingStatusAvbrutt:
      type: object
      properties:
        type:
          const: AVBRUTT
        tidspunkt:
          type: string
          format: date-time
        aarsak:
          $ref: "#/components/schemas/AvbrytGjennomforingAarsak"
        beskrivelse:
          type: string
      required:
        - type
        - tidspunkt
        - aarsak
        - beskrivelse

    GjennomforingStatusAvlyst:
      type: object
      properties:
        type:
          const: AVLYST
        tidspunkt:
          type: string
          format: date-time
        aarsak:
          $ref: "#/components/schemas/AvbrytGjennomforingAarsak"
        beskrivelse:
          type: string
      required:
        - type
        - tidspunkt
        - aarsak
        - beskrivelse

    GjennomforingStatus:
      type: string
      enum:
        - GJENNOMFORES
        - AVBRUTT
        - AVLYST
        - AVSLUTTET

    GjennomforingOppstartstype:
      type: string
      enum:
        - LOPENDE
        - FELLES

    Opphav:
      type: string
      enum:
        - ARENA
        - TILTAKSADMINISTRASJON

    ArrangorTil:
      type: string
      enum:
        - AVTALE
        - TILTAKSGJENNOMFORING

    NavAnsatt:
      type: object
      properties:
        entraObjectId:
          type: string
          format: uuid
        navIdent:
          type: string
        fornavn:
          type: string
        etternavn:
          type: string
        hovedenhet:
          $ref: "#/components/schemas/NavAnsattHovedenhet"
        mobilnummer:
          type: [string, "null"]
        epost:
          type: string
        roller:
          type: array
          items:
            $ref: "#/components/schemas/NavAnsattRolleDto"
        skalSlettesDato:
          type: [string, "null"]
          format: date
      required:
        - entraObjectId
        - navIdent
        - fornavn
        - etternavn
        - hovedenhet
        - mobilnummer
        - epost
        - roller
        - skalSlettesDato

    NavAnsattRolleDto:
      type: object
      properties:
        rolle:
          $ref: "#/components/schemas/Rolle"
        navn:
          type: string
      required:
        - rolle
        - navn

    Rolle:
      type: string
      enum:
        - TEAM_MULIGHETSROMMET
        - KONTAKTPERSON
        - TILTAKADMINISTRASJON_GENERELL
        - TILTAKSGJENNOMFORINGER_SKRIV
        - AVTALER_SKRIV
        - SAKSBEHANDLER_OKONOMI
        - BESLUTTER_TILSAGN
        - ATTESTANT_UTBETALING

    NavAnsattHovedenhet:
      type: object
      properties:
        enhetsnummer:
          type: string
        navn:
          type: string
      required:
        - enhetsnummer
        - navn

    Innsatsgruppe:
      type: string
      enum:
        - GODE_MULIGHETER
        - TRENGER_VEILEDNING
        - TRENGER_VEILEDNING_NEDSATT_ARBEIDSEVNE
        - JOBBE_DELVIS
        - LITEN_MULIGHET_TIL_A_JOBBE

    TiltakstypeStatus:
      type: string
      enum:
        - AKTIV
        - AVSLUTTET

    ArenaNavEnhet:
      type: object
      properties:
        enhetsnummer:
          type: string
        navn:
          type: string
      required:
        - enhetsnummer

    NavEnhetDto:
      type: object
      properties:
        enhetsnummer:
          type: string
        overordnetEnhet:
          type: [string, "null"]
        navn:
          type: string
        type:
          $ref: "#/components/schemas/NavEnhetType"
      required:
        - navn
        - overordnetEnhet
        - enhetsnummer
        - type

    NavRegionDto:
      type: object
      properties:
        enhetsnummer:
          type: string
        navn:
          type: string
        enheter:
          type: array
          items:
            $ref: "#/components/schemas/NavRegionUnderenhetDto"
      required:
        - navn
        - enhetsnummer
        - enheter

    NavRegionUnderenhetDto:
      type: object
      properties:
        navn:
          type: string
        enhetsnummer:
          type: string
        overordnetEnhet:
          type: string
        erStandardvalg:
          type: boolean
      required:
        - navn
        - enhetsnummer
        - overordnetEnhet
        - erStandardvalg

    AvtaleArrangorHovedenhet:
      type: object
      properties:
        id:
          type: string
          format: uuid
        organisasjonsnummer:
          type: string
        navn:
          type: string
        slettet:
          type: boolean
        underenheter:
          type: array
          items:
            $ref: "#/components/schemas/AvtaleArrangorUnderenhet"
        kontaktpersoner:
          type: array
          items:
            $ref: "#/components/schemas/ArrangorKontaktperson"
      required:
        - id
        - organisasjonsnummer
        - navn
        - slettet
        - underenheter
        - kontaktpersoner

    AvtaleArrangorUnderenhet:
      type: object
      properties:
        id:
          type: string
          format: uuid
        organisasjonsnummer:
          type: string
        navn:
          type: string
        slettet:
          type: boolean
      required:
        - id
        - organisasjonsnummer
        - navn
        - slettet

    GjennomforingArrangorUnderenhet:
      type: object
      properties:
        id:
          type: string
          format: uuid
        organisasjonsnummer:
          type: string
        navn:
          type: string
        kontaktpersoner:
          type: array
          items:
            $ref: "#/components/schemas/ArrangorKontaktperson"
        slettet:
          type: boolean
      required:
        - id
        - organisasjonsnummer
        - navn
        - kontaktpersoner
        - slettet

    ArrangorKontaktpersonRequest:
      type: object
      properties:
        id:
          type: string
          format: uuid
        navn:
          type: string
        telefon:
          type: [string, "null"]
        beskrivelse:
          type: [string, "null"]
        epost:
          type: string
        ansvarligFor:
          type: array
          items:
            $ref: "#/components/schemas/ArrangorKontaktpersonAnsvar"
      required:
        - id
        - navn
        - epost
        - telefon
        - beskrivelse
        - ansvarligFor

    ArrangorKontaktperson:
      type: object
      properties:
        id:
          type: string
          format: uuid
        arrangorId:
          type: string
          format: uuid
        navn:
          type: string
        beskrivelse:
          type: [string, "null"]
        telefon:
          type: [string, "null"]
        epost:
          type: string
        ansvarligFor:
          type: array
          items:
            $ref: "#/components/schemas/ArrangorKontaktpersonAnsvar"
      required:
        - id
        - arrangorId
        - navn
        - beskrivelse
        - telefon
        - epost
        - ansvarligFor

    ArrangorKontaktpersonAnsvar:
      type: string
      enum:
        - AVTALE
        - GJENNOMFORING
        - OKONOMI

    AvtaleAdministrator:
      type: object
      properties:
        navIdent:
          type: string
        navn:
          type: string
      required:
        - navIdent
        - navn

    GjennomforingAdministrator:
      type: object
      properties:
        navIdent:
          type: string
        navn:
          type: string
      required:
        - navIdent
        - navn

    VeilederflateTiltakstype:
      type: object
      properties:
        id:
          type: string
          format: uuid
        sanityId:
          type: string
        navn:
          type: string
        beskrivelse:
          type: string
        innsatsgrupper:
          type: array
          uniqueItems: true
          items:
            $ref: "#/components/schemas/Innsatsgruppe"
        regelverkLenker:
          type: array
          items:
            $ref: "#/components/schemas/RegelverkLenke"
        faneinnhold:
          $ref: "#/components/schemas/Faneinnhold"
        delingMedBruker:
          type: string
        arenakode:
          $ref: "#/components/schemas/TiltakskodeArena"
        tiltakskode:
          $ref: "#/components/schemas/Tiltakskode"
        kanKombineresMed:
          type: array
          items:
            type: string
      required:
        - id
        - sanityId
        - navn
        - kanKombineresMed

    RegelverkLenke:
      type: object
      properties:
        _id:
          type: string
        regelverkUrl:
          type: string
        regelverkLenkeNavn:
          type: string
      required:
        - _id
        - regelverkUrl
        - regelverkLenkeNavn

    PortableTextTypedObject:
      type: object
      additionalProperties: true
      properties:
        _type:
          type: string
        _key:
          type: string
      required:
        - _type

    Faneinnhold:
      type: object
      properties:
        forHvemInfoboks:
          type: string
        forHvem:
          type: array
          items:
            $ref: "#/components/schemas/PortableTextTypedObject"
        detaljerOgInnholdInfoboks:
          type: string
        detaljerOgInnhold:
          type: array
          items:
            $ref: "#/components/schemas/PortableTextTypedObject"
        pameldingOgVarighetInfoboks:
          type: string
        pameldingOgVarighet:
          type: array
          items:
            $ref: "#/components/schemas/PortableTextTypedObject"
        kontaktinfo:
          type: array
          items:
            $ref: "#/components/schemas/PortableTextTypedObject"
        kontaktinfoInfoboks:
          type: string
        oppskrift:
          type: array
          items:
            $ref: "#/components/schemas/PortableTextTypedObject"
        lenker:
          type: array
          items:
            $ref: "#/components/schemas/Lenke"
        delMedBruker:
          type: string

    FaneinnholdRequest:
      type: object
      properties:
        forHvemInfoboks:
          type: [string, "null"]
        forHvem:
          type: object
        detaljerOgInnholdInfoboks:
          type: [string, "null"]
        detaljerOgInnhold:
          type: object
        pameldingOgVarighetInfoboks:
          type: [string, "null"]
        pameldingOgVarighet:
          type: object
        kontaktinfo:
          type: object
        kontaktinfoInfoboks:
          type: [string, "null"]
        delMedBruker:
          type: [string, "null"]

    NavEnhetType:
      type: string
      enum:
        - LOKAL
        - FYLKE
        - TILTAK
        - ALS
        - KO
        - ARK

    BrregVirksomhet:
      type: object
      properties:
        organisasjonsnummer:
          type: string
        navn:
          type: string
        organisasjonsform:
          type: string
      required:
        - organisasjonsnummer
        - organisasjonsform
        - navn

    Arrangor:
      type: object
      properties:
        id:
          type: string
          format: uuid
        organisasjonsnummer:
          type: string
        organisasjonsform:
          type: string
        navn:
          type: string
        overordnetEnhet:
          type: [string, "null"]
        underenheter:
          type: array
          items:
            $ref: "#/components/schemas/Arrangor"
        slettetDato:
          type: string
          format: date
      required:
        - id
        - organisasjonsnummer
        - organisasjonsform
        - navn
        - overordnetEnhet

    PaginertUserNotifications:
      type: object
      required:
        - pagination
        - data
      properties:
        pagination:
          $ref: "#/components/schemas/Pagination"
        data:
          type: array
          items:
            $ref: "#/components/schemas/UserNotification"

    UserNotification:
      type: object
      properties:
        id:
          type: string
          format: uuid
        title:
          type: string
        description:
          type: [string, "null"]
        user:
          type: string
        createdAt:
          type: string
          format: date-time
        readAt:
          type: string
          format: date-time
        metadata:
          anyOf:
            - type: ["null"]
            - type: object
              properties:
                link:
                  type: string
                linkText:
                  type: string
      required:
        - id
        - title
        - description
        - user
        - createdAt
        - readAt

    UserNotificationSummary:
      type: object
      properties:
        readCount:
          type: integer
        unreadCount:
          type: integer
      required:
        - readCount
        - unreadCount

    Oppgave:
      type: object
      properties:
        id:
          type: string
          format: uuid
        type:
          $ref: "#/components/schemas/OppgaveType"
        navn:
          type: string
        title:
          type: string
        description:
          type: string
        tiltakstype:
          $ref: "#/components/schemas/OppgaveTiltakstype"
        enhet:
          $ref: "#/components/schemas/OppgaveEnhet"
        link:
          type: object
          properties:
            linkText:
              type: string
            link:
              type: string
          required:
            - linkText
            - link
        createdAt:
          type: string
          format: date-time
        iconType:
          $ref: "#/components/schemas/OppgaveIconType"
      required:
        - type
        - navn
        - title
        - tiltakstype
        - link
        - createdAt
        - iconType

    OppgaveEnhet:
      properties:
        nummer:
          type: string
        navn:
          type: string

    OppgaveIconType:
      type: string
      enum:
        - TILSAGN
        - UTBETALING
        - AVTALE
        - GJENNOMFORING

    OppgaveTiltakstype:
      type: object
      properties:
        tiltakskode:
          $ref: "#/components/schemas/Tiltakskode"
        navn:
          type: string
      required:
        - tiltakskode
        - navn

    AvbrytGjennomforingAarsak:
      type: string
      enum:
        - ENDRING_HOS_ARRANGOR
        - BUDSJETT_HENSYN
        - FOR_FAA_DELTAKERE
        - FEILREGISTRERING
        - AVBRUTT_I_ARENA
        - ANNET

    AvbrytAvtaleAarsak:
      type: string
      enum:
        - ENDRING_HOS_ARRANGOR
        - BUDSJETT_HENSYN
        - FEILREGISTRERING
        - AVBRUTT_I_ARENA
        - ANNET

    AvbrytelseRequest:
      type: object
      properties:
        aarsaker:
          type: array
          items:
            type: string
        forklaring:
          type: [string, "null"]
      required: [aarsaker, forklaring]

    GjennomforingDeltakerSummary:
      type: object
      properties:
        antallDeltakere:
          type: number
        deltakereByStatus:
          type: array
          items:
            type: object
            properties:
              status:
                type: string
              count:
                type: integer
            required:
              - status
              - count
      required:
        - antallDeltakere
        - deltakereByStatus

    GjennomforingKontaktperson:
      type: object
      properties:
        navIdent:
          type: string
        navn:
          type: string
        epost:
          type: string
        mobilnummer:
          type: [string, "null"]
        beskrivelse:
          type: [string, "null"]
      required:
        - navn
        - navIdent
        - epost
        - mobilnummer
        - beskrivelse

    GjennomforingKontaktpersonRequest:
      type: object
      properties:
        navIdent:
          type: string
        beskrivelse:
          type: [string, "null"]
      required: [navIdent, beskrivelse]

    Endringshistorikk:
      type: object
      properties:
        entries:
          type: array
          items:
            $ref: "#/components/schemas/EndringshistorikkEntry"
      required:
        - entries

    EndringshistorikkEntry:
      type: object
      properties:
        id:
          type: string
          format: uuid
        operation:
          type: string
        editedAt:
          type: string
          format: date-time
        editedBy:
          $ref: "#/components/schemas/EndringshistorikkUser"
      required:
        - id
        - operation
        - editedAt
        - editedBy

    EndringshistorikkUser:
      oneOf:
        - $ref: "#/components/schemas/EndringshistorikkSystembruker"
        - $ref: "#/components/schemas/EndringshistorikkNavAnsatt"

    EndringshistorikkSystembruker:
      type: object
      properties:
        navn:
          type: string
      required:
        - navn

    EndringshistorikkNavAnsatt:
      type: object
      properties:
        navIdent:
          type: string
        navn:
          type: string
      required:
        - navIdent
        - navn

    Toggles:
      type: string
      enum:
        - MULIGHETSROMMET_MIGRERING_OKONOMI_AVBRYT_UTBETALING
        - MULIGHETSROMMET_TILTAKSTYPE_MIGRERING_TILSAGN
        - MULIGHETSROMMET_TILTAKSTYPE_MIGRERING_UTBETALING
        - ARRANGORFLATE_OPPRETT_UTBETEALING_INVESTERINGER
        - ARRANGORFLATE_OPPRETT_UTBETALING_ANNEN_AVTALT_PPRIS

    PublisertRequest:
      type: object
      properties:
        publisert:
          type: boolean
      required:
        - publisert

    SetApentForPameldingRequest:
      type: object
      properties:
        apentForPamelding:
          type: boolean
      required:
        - apentForPamelding

    SetTilgjengligForArrangorRequest:
      type: object
      properties:
        tilgjengeligForArrangorDato:
          type: string
          format: date
      required:
        - tilgjengeligForArrangorDato

    SetStengtHosArrangorRequest:
      type: object
      properties:
        periodeStart:
          type: string
          format: date
        periodeSlutt:
          type: string
          format: date
        beskrivelse:
          type: string

    Kontorstruktur:
      type: array
      items:
        type: object
        properties:
          region:
            $ref: "#/components/schemas/NavEnhetDto"
          kontorer:
            type: array
            items:
              $ref: "#/components/schemas/NavEnhetDto"
        required:
          - region
          - kontorer

    EstimertVentetidEnhet:
      type: string
      enum:
        - uke
        - maned

    EstimertVentetid:
      type: object
      properties:
        verdi:
          type: number
        enhet:
          $ref: "#/components/schemas/EstimertVentetidEnhet"
      required:
        - verdi
        - enhet

    StengtPeriode:
      type: object
      properties:
        id:
          type: number
        start:
          type: string
          format: date
        slutt:
          type: string
          format: date
        beskrivelse:
          type: string
      required:
        - id
        - start
        - slutt
        - beskrivelse

    Lenke:
      type: object
      properties:
        lenkenavn:
          type: string
        lenke:
          type: string
          format: uri
        apneINyFane:
          type: boolean
        visKunForVeileder:
          type: boolean
      required:
        - lenkenavn
        - lenke
        - apneINyFane
        - visKunForVeileder

    Tiltakskode:
      type: string
      enum:
        - VARIG_TILRETTELAGT_ARBEID_SKJERMET
        - OPPFOLGING
        - JOBBKLUBB
        - GRUPPE_FAG_OG_YRKESOPPLAERING
        - GRUPPE_ARBEIDSMARKEDSOPPLAERING
        - DIGITALT_OPPFOLGINGSTILTAK
        - AVKLARING
        - ARBEIDSRETTET_REHABILITERING
        - ARBEIDSFORBEREDENDE_TRENING

    Personopplysning:
      type: string
      enum:
        - NAVN
        - KJONN
        - ADRESSE
        - TELEFONNUMMER
        - FOLKEREGISTER_IDENTIFIKATOR
        - FODSELSDATO
        - BEHOV_FOR_BISTAND_FRA_NAV
        - YTELSER_FRA_NAV
        - BILDE
        - EPOST
        - BRUKERNAVN
        - ARBEIDSERFARING_OG_VERV
        - SERTIFIKATER_OG_KURS
        - IP_ADRESSE
        - UTDANNING_OG_FAGBREV
        - PERSONLIGE_EGENSKAPER_OG_INTERESSER
        - SPRAKKUNNSKAP
        - ADFERD
        - SOSIALE_FORHOLD
        - HELSEOPPLYSNINGER
        - RELIGION
        - NASJONALITET
        - ADRESSESPERRE
        - VERGEMAL

    Kurstype:
      type: string
      enum:
        - BRANSJE_OG_YRKESRETTET
        - NORSKOPPLAERING
        - GRUNNLEGGENDE_FERDIGHETER
        - FORBEREDENDE_OPPLAERING_FOR_VOKSNE
        - STUDIESPESIALISERING

    AmoKategorisering:
      oneOf:
        - $ref: "#/components/schemas/BransjeOgYrkesrettet"
        - $ref: "#/components/schemas/Norskopplaering"
        - $ref: "#/components/schemas/ForberedendeOpplaeringForVoksne"
        - $ref: "#/components/schemas/GrunnleggendeFerdigheter"
        - $ref: "#/components/schemas/Studiespesialisering"

    BransjeOgYrkesrettet:
      type: object
      properties:
        kurstype:
          type: string
          const: BRANSJE_OG_YRKESRETTET
        bransje:
          $ref: "#/components/schemas/Bransje"
        forerkort:
          type: array
          items:
            $ref: "#/components/schemas/ForerkortKlasse"
        sertifiseringer:
          type: array
          items:
            $ref: "#/components/schemas/Sertifisering"
        innholdElementer:
          type: array
          items:
            $ref: "#/components/schemas/InnholdElement"
      required:
        - kurstype
        - bransje
        - innholdElementer
        - sertifiseringer
        - forerkort

    Norskopplaering:
      type: object
      properties:
        kurstype:
          type: string
          const: NORSKOPPLAERING
        norskprove:
          type: boolean
        innholdElementer:
          type: array
          items:
            $ref: "#/components/schemas/InnholdElement"
      required:
        - kurstype
        - norskprove
        - innholdElementer

    GrunnleggendeFerdigheter:
      type: object
      properties:
        kurstype:
          type: string
          const: GRUNNLEGGENDE_FERDIGHETER
        innholdElementer:
          type: array
          items:
            $ref: "#/components/schemas/InnholdElement"
      required:
        - kurstype
        - innholdElementer

    ForberedendeOpplaeringForVoksne:
      type: object
      properties:
        kurstype:
          type: string
          const: FORBEREDENDE_OPPLAERING_FOR_VOKSNE
      required:
        - kurstype

    Studiespesialisering:
      type: object
      properties:
        kurstype:
          type: string
          const: STUDIESPESIALISERING
      required:
        - kurstype

    Sertifisering:
      type: object
      properties:
        konseptId:
          type: number
        label:
          type: string
      required:
        - konseptId
        - label

    ForerkortKlasse:
      type: string
      enum:
        - A
        - A1
        - A2
        - AM
        - AM_147
        - B
        - B_78
        - BE
        - C
        - C1
        - C1E
        - CE
        - D
        - D1
        - D1E
        - DE
        - S
        - T

    Bransje:
      type: string
      enum:
        - INGENIOR_OG_IKT_FAG
        - HELSE_PLEIE_OG_OMSORG
        - BARNE_OG_UNGDOMSARBEID
        - KONTORARBEID
        - BUTIKK_OG_SALGSARBEID
        - BYGG_OG_ANLEGG
        - INDUSTRIARBEID
        - REISELIV_SERVERING_OG_TRANSPORT
        - SERVICEYRKER_OG_ANNET_ARBEID
        - ANDRE_BRANSJER

    InnholdElement:
      type: string
      enum:
        - GRUNNLEGGENDE_FERDIGHETER
        - JOBBSOKER_KOMPETANSE
        - TEORETISK_OPPLAERING
        - PRAKSIS
        - ARBEIDSMARKEDSKUNNSKAP
        - NORSKOPPLAERING

    KoblingerForKontaktperson:
      type: object
      properties:
        gjennomforinger:
          type: array
          items:
            $ref: "#/components/schemas/DokumentKoblingForKontaktperson"
        avtaler:
          type: array
          items:
            $ref: "#/components/schemas/DokumentKoblingForKontaktperson"
      required:
        - gjennomforinger
        - avtaler

    DokumentKoblingForKontaktperson:
      type: object
      properties:
        id:
          type: string
          format: uuid
        navn:
          type: string
      required:
        - id
        - navn

    FrikobleKontaktpersonRequest:
      type: object
      properties:
        kontaktpersonId:
          type: string
          format: uuid
        dokumentId:
          type: string
          format: uuid
      required:
        - kontaktpersonId
        - dokumentId

    PersonopplysningData:
      type: object
      properties:
        personopplysning:
          $ref: "#/components/schemas/Personopplysning"
        tittel:
          type: string
        hjelpetekst:
          type: [string, "null"]
      required:
        - personopplysning
        - tittel
        - hjelpetekst

    Opsjonsmodell:
      type: object
      properties:
        type:
          $ref: "#/components/schemas/OpsjonsmodellType"
        opsjonMaksVarighet:
          type: [string, "null"]
          format: date
        customOpsjonsmodellNavn:
          type: [string, "null"]
      required:
        - type
        - opsjonMaksVarighet
        - customOpsjonsmodellNavn

    OpsjonsmodellType:
      type: string
      enum:
        - TO_PLUSS_EN
        - TO_PLUSS_EN_PLUSS_EN
        - TO_PLUSS_EN_PLUSS_EN_PLUSS_EN
        - ANNET
        - INGEN_OPSJONSMULIGHET
        - VALGFRI_SLUTTDATO

    OpprettOpsjonLoggRequest:
      type: object
      properties:
        nySluttdato:
          type: [string, "null"]
          format: date
        forrigeSluttdato:
          type: [string, "null"]
          format: date
        status:
          $ref: "#/components/schemas/OpsjonStatus"
      required:
        - nySluttdato
        - forrigeSluttdato
        - status

    OpsjonStatus:
      type: string
      enum:
        - OPSJON_UTLOST
        - SKAL_IKKE_UTLOSE_OPSJON

    OpsjonLoggRegistrert:
      type: object
      properties:
        id:
          type: string
          format: uuid
        registrertDato:
          type: string
          format: date
        sluttDato:
          type: [string, "null"]
          format: date
        forrigeSluttdato:
          type: [string, "null"]
          format: date
        status:
          $ref: "#/components/schemas/OpsjonStatus"
      required:
        - id
        - registrertDato
        - sluttDato
        - forrigeSluttdato
        - status

    SlettOpsjonLoggRequest:
      type: object
      properties:
        id:
          type: string
          format: uuid
      required:
        - id

    LagretFilterType:
      type: string
      enum:
        - AVTALE
        - GJENNOMFORING
        - GJENNOMFORING_MODIA
        - OPPGAVE

    LagretFilter:
      type: object
      properties:
        id:
          type: string
          format: uuid
        navn:
          type: string
        "type":
          $ref: "#/components/schemas/LagretFilterType"
        filter:
          type: object
        isDefault:
          type: boolean
        sortOrder:
          type: number
      required:
        - id
        - type
        - navn
        - filter
        - isDefault
        - sortOrder

    SetNotificationStatusRequest:
      type: object
      properties:
        notifikasjoner:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                format: uuid
              status:
                $ref: "#/components/schemas/NotificationStatus"
            required:
              - id
              - status

    Periode:
      type: object
      properties:
        start:
          type: string
          format: date
        slutt:
          type: string
          format: date
      required:
        - start
        - slutt

    TilsagnDefaultsRequest:
      type: object
      properties:
        gjennomforingId:
          type: string
          format: uuid
        type:
          $ref: "#/components/schemas/TilsagnType"
        prismodell:
          oneOf:
            - $ref: "#/components/schemas/Prismodell"
            - type: "null"
        belop:
          type: [number, "null"]
        kostnadssted:
          type: [string, "null"]
        periodeStart:
          type: [string, "null"]
          format: date
        periodeSlutt:
          type: [string, "null"]
          format: date
      required: [gjennomforingId, type, prismodell, belop, kostnadssted, periodeStart, periodeSlutt]

    TilsagnDefaults:
      type: object
      properties:
        id:
          type: string
          format: uuid
        gjennomforingId:
          type: string
          format: uuid
        type:
          $ref: "#/components/schemas/TilsagnType"
        periodeStart:
          type: string
          format: date
        periodeSlutt:
          type: string
          format: date
        kostnadssted:
          type: string
        antallPlasser:
          type: integer
        beregning:
          $ref: "#/components/schemas/TilsagnBeregningInput"

    TilsagnRequest:
      type: object
      properties:
        id:
          type: string
          format: uuid
        gjennomforingId:
          type: string
          format: uuid
        type:
          $ref: "#/components/schemas/TilsagnType"
        periodeStart:
          type: string
          format: date
        periodeSlutt:
          type: string
          format: date
        kostnadssted:
          type: string
        beregning:
          $ref: "#/components/schemas/TilsagnBeregningInput"
        kommentar:
          type: [string, "null"]
      required:
        - id
        - gjennomforingId
        - type
        - periodeStart
        - periodeSlutt
        - kostnadssted
        - beregning
        - kommentar

    TilsagnType:
      type: string
      enum:
        - TILSAGN
        - EKSTRATILSAGN
        - INVESTERING

    TilsagnDto:
      type: object
      properties:
        id:
          type: string
          format: uuid
        type:
          $ref: "#/components/schemas/TilsagnType"
        periode:
          $ref: "#/components/schemas/Periode"
        belopBrukt:
          type: integer
        belopGjenstaende:
          type: integer
        kostnadssted:
          $ref: "#/components/schemas/KostnadsstedDto"
        beregning:
          $ref: "#/components/schemas/TilsagnBeregningDto"
        status:
          $ref: "#/components/schemas/TilsagnStatus"
        bestillingsnummer:
          type: string
        kommentar:
          type: [string, "null"]
      required:
        - id
        - type
        - periode
        - belopBrukt
        - belopGjenstaende
        - kostnadssted
        - beregning
        - status
        - bestillingsnummer
        - kommentar

    KostnadsstedDto:
      type: object
      properties:
        navn:
          type: string
        enhetsnummer:
          type: string
      required:
        - navn
        - enhetsnummer

    TilsagnDetaljerDto:
      type: object
      properties:
        tilsagn:
          $ref: "#/components/schemas/TilsagnDto"
        opprettelse:
          $ref: "#/components/schemas/TotrinnskontrollDto"
        annullering:
          $ref: "#/components/schemas/TotrinnskontrollDto"
        tilOppgjor:
          $ref: "#/components/schemas/TotrinnskontrollDto"
      required:
        - tilsagn
        - opprettelse

    TilsagnStatus:
      type: string
      enum:
        - TIL_GODKJENNING
        - GODKJENT
        - RETURNERT
        - TIL_ANNULLERING
        - ANNULLERT
        - TIL_OPPGJOR
        - OPPGJORT

    Besluttelse:
      type: string
      enum:
        - GODKJENT
        - AVVIST

    TilsagnTilAnnulleringAarsak:
      type: string
      enum:
        - FEIL_REGISTRERING
        - TILTAK_SKAL_IKKE_GJENNOMFORES
        - ARRANGOR_HAR_IKKE_SENDT_KRAV
        - ANNET

    TilsagnAvvisningAarsak:
      type: string
      enum:
        - FEIL_ANTALL_PLASSER
        - FEIL_KOSTNADSSTED
        - FEIL_PERIODE
        - FEIL_BELOP
        - ANNET

    DelutbetalingReturnertAarsak:
      type: string
      enum:
        - FEIL_BELOP
        - ANNET
        - TILSAGN_FEIL_STATUS
        - PROPAGERT_RETUR

    TilsagnBeregningType:
      type: string
      enum:
        - FRI
        - FAST_SATS_PER_TILTAKSPLASS_PER_MANED
        - PRIS_PER_MANEDSVERK
        - PRIS_PER_UKESVERK

    TilsagnBeregningDto:
      oneOf:
        - $ref: "#/components/schemas/TilsagnBeregningFri"
        - $ref: "#/components/schemas/TilsagnBeregningFastSatsPerTiltaksplassPerManed"
        - $ref: "#/components/schemas/TilsagnBeregningPrisPerManedsverk"
        - $ref: "#/components/schemas/TilsagnBeregningPrisPerUkesverk"

    TilsagnBeregningInput:
      oneOf:
        - $ref: "#/components/schemas/TilsagnBeregningFriInput"
        - $ref: "#/components/schemas/TilsagnBeregningFastSatsPerTiltaksplassPerManedInput"
        - $ref: "#/components/schemas/TilsagnBeregningPrisPerManedsverkInput"
        - $ref: "#/components/schemas/TilsagnBeregningPrisPerUkesverkInput"

    TilsagnBeregningFastSatsPerTiltaksplassPerManed:
      type: object
      properties:
        type:
          const: FAST_SATS_PER_TILTAKSPLASS_PER_MANED
        belop:
          type: integer
        sats:
          type: integer
        antallPlasser:
          type: integer
        antallManeder:
          type: number
        periode:
          $ref: "#/components/schemas/Periode"
      required: [ periode, type, belop, sats, antallPlasser, antallManeder ]

    TilsagnBeregningFastSatsPerTiltaksplassPerManedInput:
      type: object
      properties:
        type:
          const: FAST_SATS_PER_TILTAKSPLASS_PER_MANED
        periode:
          $ref: "#/components/schemas/Periode"
        sats:
          type: integer
        antallPlasser:
          type: integer
      required: [ type, periode, sats, antallPlasser ]

    TilsagnBeregningPrisPerManedsverk:
      type: object
      properties:
        type:
          const: PRIS_PER_MANEDSVERK
        belop:
          type: integer
        sats:
          type: integer
        antallPlasser:
          type: integer
        antallManeder:
          type: number
        periode:
          $ref: "#/components/schemas/Periode"
        prisbetingelser:
          type: [string, "null"]
      required: [periode, type, belop, sats, antallPlasser, antallManeder, prisbetingelser]

    TilsagnBeregningPrisPerManedsverkInput:
      type: object
      properties:
        type:
          const: PRIS_PER_MANEDSVERK
        periode:
          $ref: "#/components/schemas/Periode"
        sats:
          type: integer
        antallPlasser:
          type: integer
        prisbetingelser:
          type: [string, "null"]
      required: [type, periode, sats, antallPlasser, prisbetingelser]

    TilsagnBeregningPrisPerUkesverk:
      type: object
      properties:
        type:
          const: PRIS_PER_UKESVERK
        belop:
          type: integer
        periode:
          $ref: "#/components/schemas/Periode"
        sats:
          type: integer
        antallPlasser:
          type: integer
        antallUker:
          type: number
        prisbetingelser:
          type: [string, "null"]
      required: [periode, type, belop, sats, antallPlasser, antallUker, prisbetingelser]

    TilsagnBeregningPrisPerUkesverkInput:
      type: object
      properties:
        type:
          const: PRIS_PER_UKESVERK
        periode:
          $ref: "#/components/schemas/Periode"
        sats:
          type: integer
        antallPlasser:
          type: integer
        prisbetingelser:
          type: [string, "null"]
      required: [type, periode, sats, antallPlasser, prisbetingelser]

    TilsagnBeregningFri:
      type: object
      properties:
        type:
          const: FRI
        linjer:
          type: array
          items:
            $ref: "#/components/schemas/TilsagnBeregningFriInputLinje"
        prisbetingelser:
          type: [string, "null"]
        belop:
          type: integer
      required: [type, belop, prisbetingelser, linjer]

    TilsagnBeregningFriInput:
      type: object
      properties:
        type:
          const: FRI
        linjer:
          type: array
          items:
            $ref: "#/components/schemas/TilsagnBeregningFriInputLinje"
        prisbetingelser:
          type: [string, "null"]
      required:
        - type
        - belop
        - prisbetingelser
        - linjer

    TilsagnBeregningFriInputLinje:
      type: object
      properties:
        id:
          type: string
          format: uuid
        beskrivelse:
          type: string
        belop:
          type: integer
        antall:
          type: integer
      required:
        - id
        - beskrivelse
        - belop
        - antall

    PrismodellOgBeskrivelse:
      type: object
      properties:
        type:
          $ref: "#/components/schemas/Prismodell"
        beskrivelse:
          type: string
      required:
        - type
        - beskrivelse

    AvtaltSatsDto:
      type: object
      properties:
        periodeStart:
          type: string
          format: date
        periodeSlutt:
          type: string
          format: date
        pris:
          type: integer
        valuta:
          type: string
      required:
        - periodeStart
        - periodeSlutt
        - pris
        - valuta

    UtbetalingStatusDto:
      oneOf:
        - $ref: "#/components/schemas/UtbetalingStatusVenterPaArrangor"
        - $ref: "#/components/schemas/UtbetalingStatusKlarTilBehandling"
        - $ref: "#/components/schemas/UtbetalingStatusTilAttestering"
        - $ref: "#/components/schemas/UtbetalingStatusReturnert"
        - $ref: "#/components/schemas/UtbetalingStatusOverfortTilUtbetaling"

    UtbetalingStatusVenterPaArrangor:
      type: object
      properties:
        type:
          const: VENTER_PA_ARRANGOR
      required: [type]

    UtbetalingStatusKlarTilBehandling:
      type: object
      properties:
        type:
          const: KLAR_TIL_BEHANDLING
      required: [type]

    UtbetalingStatusTilAttestering:
      type: object
      properties:
        type:
          const: TIL_ATTESTERING
      required: [type]

    UtbetalingStatusReturnert:
      type: object
      properties:
        type:
          const: RETURNERT
      required: [type]

    UtbetalingStatusOverfortTilUtbetaling:
      type: object
      properties:
        type:
          const: OVERFORT_TIL_UTBETALING
      required: [type]

    UtbetalingDetaljerDto:
      type: object
      properties:
        utbetaling:
          $ref: "#/components/schemas/UtbetalingDto"
        linjer:
          type: array
          items:
            $ref: "#/components/schemas/UtbetalingLinje"
        handlinger:
          $ref: "#/components/schemas/UtbetalingHandlinger"
      required: [utbetaling, linjer, handlinger]

    UtbetalingDto:
      type: object
      properties:
        id:
          type: string
          format: uuid
        status:
          $ref: "#/components/schemas/UtbetalingStatusDto"
        periode:
          $ref: "#/components/schemas/Periode"
        belop:
          type: integer
        godkjentAvArrangorTidspunkt:
          type: [string, "null"]
          format: date-time
        journalpostId:
          type: string
        createdAt:
          type: string
          format: date-time
        betalingsinformasjon:
          $ref: "#/components/schemas/Betalingsinformasjon"
        beskrivelse:
          type: string
        innsendtAv:
          type: string
        tilskuddstype:
          $ref: "#/components/schemas/Tilskuddstype"
        type:
          $ref: "#/components/schemas/UtbetalingType"
        begrunnelseMindreBetalt:
          type: string
      required: [id, status, periode, belop, createdAt, tilskuddstype]

    UtbetalingHandlinger:
      type: object
      properties:
        sendTilAttestering:
          type: boolean
      required: [sendTilAttestering]

    UtbetalingKompaktDto:
      type: object
      properties:
        id:
          type: string
          format: uuid
        status:
          $ref: "#/components/schemas/UtbetalingStatusDto"
        periode:
          $ref: "#/components/schemas/Periode"
        kostnadssteder:
          type: array
          items:
            $ref: "#/components/schemas/KostnadsstedDto"
        belopUtbetalt:
          type: [number, "null"]
        type:
          $ref: "#/components/schemas/UtbetalingType"
      required: [id, status, periode, kostnadssteder, belopUtbetalt]

    UtbetalingType:
      type: string
      enum:
        - KORRIGERING
        - INVESTERING

    UtbetalingBeregningDto:
      type: object
      oneOf:
        - $ref: "#/components/schemas/UtbetalingBeregningFri"
        - $ref: "#/components/schemas/UtbetalingBeregningFastSatsPerTiltaksplassPerManed"
        - $ref: "#/components/schemas/UtbetalingBeregningPrisPerManedsverk"
        - $ref: "#/components/schemas/UtbetalingBeregningPrisPerUkesverk"

    UtbetalingBeregningFri:
      type: object
      properties:
        belop:
          type: integer
        type:
          const: FRI
        deltakerRegioner:
          type: array
          items:
            $ref: "#/components/schemas/NavRegionDto"
        deltakerTableData:
          $ref: "#/components/schemas/DataDrivenTableDto"
        heading:
          type: string
      required: [heading, belop, type, deltakerTableData, deltakerRegioner]

    UtbetalingBeregningFastSatsPerTiltaksplassPerManed:
      type: object
      properties:
        type:
          const: FAST_SATS_PER_TILTAKSPLASS_PER_MANED
        belop:
          type: integer
        deltakerRegioner:
          type: array
          items:
            $ref: "#/components/schemas/NavRegionDto"
        deltakerTableData:
          $ref: "#/components/schemas/DataDrivenTableDto"
        sats:
          type: integer
        manedsverkTotal:
          type: number
        heading:
          type: string
      required: [ heading, type, belop, sats, deltakerTableData, deltakerRegioner, manedsverkTotal ]

    UtbetalingBeregningPrisPerManedsverk:
      type: object
      properties:
        type:
          const: PRIS_PER_MANEDSVERK
        belop:
          type: integer
        deltakerRegioner:
          type: array
          items:
            $ref: "#/components/schemas/NavRegionDto"
        deltakerTableData:
          $ref: "#/components/schemas/DataDrivenTableDto"
        sats:
          type: integer
        manedsverkTotal:
          type: number
        heading:
          type: string
      required: [heading, type, belop, sats, deltakerTableData, deltakerRegioner, manedsverkTotal]

    UtbetalingBeregningPrisPerUkesverk:
      type: object
      properties:
        type:
          const: PRIS_PER_UKESVERK
        belop:
          type: integer
        deltakerRegioner:
          type: array
          items:
            $ref: "#/components/schemas/NavRegionDto"
        deltakerTableData:
          $ref: "#/components/schemas/DataDrivenTableDto"
        sats:
          type: integer
        ukesverkTotal:
          type: number
        heading:
          type: string
      required: [heading, type, belop, sats, deltakerTableData, deltakerRegioner, ukesverkTotal]

    UtdanningslopDbo:
      type: object
      properties:
        utdanningsprogram:
          type: string
          format: uuid
        utdanninger:
          type: array
          items:
            type: string
            format: uuid
      required:
        - utdanningsprogram
        - utdanninger

    Utdanningslop:
      type: object
      properties:
        utdanningsprogram:
          $ref: "#/components/schemas/Utdanningsprogram"
        utdanninger:
          type: array
          items:
            $ref: "#/components/schemas/Utdanning"
      required:
        - utdanningsprogram
        - utdanninger

    UtdanningsprogramMedUtdanninger:
      type: object
      properties:
        utdanningsprogram:
          $ref: "#/components/schemas/Utdanningsprogram"
        utdanninger:
          type: array
          items:
            $ref: "#/components/schemas/Utdanning"
      required:
        - utdanningsprogram
        - utdanninger

    Utdanningsprogram:
      type: object
      properties:
        id:
          type: string
          format: uuid
        navn:
          type: string
      required:
        - id
        - navn

    Utdanning:
      type: object
      properties:
        id:
          type: string
          format: uuid
        navn:
          type: string
      required:
        - id
        - navn

    Betalingsinformasjon:
      type: object
      properties:
        kontonummer:
          type: [string, "null"]
        kid:
          type: [string, "null"]
      required: [kontonummer, kid]

    GetOppgaverRequest:
      type: object
      properties:
        oppgavetyper:
          type: array
          items:
            $ref: "#/components/schemas/OppgaveType"
        tiltakskoder:
          type: array
          items:
            $ref: "#/components/schemas/Tiltakskode"
        regioner:
          type: array
          items:
            type: string
      required: [oppgavetyper, tiltakskoder, regioner]

    DelutbetalingStatus:
      type: string
      enum:
        - TIL_ATTESTERING
        - GODKJENT
        - RETURNERT
        - UTBETALT
        - OVERFORT_TIL_UTBETALING

    UtbetalingLinje:
      type: object
      properties:
        id:
          type: string
          format: uuid
        tilsagn:
          $ref: "#/components/schemas/TilsagnDto"
        status:
          $ref: "#/components/schemas/DelutbetalingStatus"
        belop:
          type: number
        gjorOppTilsagn:
          type: boolean
        opprettelse:
          $ref: "#/components/schemas/TotrinnskontrollDto"
      required:
        - id
        - tilsagn
        - belop
        - gjorOppTilsagn

    DelutbetalingRequest:
      type: object
      properties:
        id:
          type: string
          format: uuid
        tilsagnId:
          type: string
          format: uuid
        belop:
          type: number
        gjorOppTilsagn:
          type: boolean
      required: [id, tilsagnId, belop]

    OpprettDelutbetalingerRequest:
      type: object
      properties:
        utbetalingId:
          type: string
          format: uuid
        delutbetalinger:
          type: array
          items:
            $ref: "#/components/schemas/DelutbetalingRequest"
        begrunnelseMindreBetalt:
          type: [string, "null"]
      required: [delutbetalinger, utbetalingId, begrunnelse]

    Tilskuddstype:
      type: string
      enum:
        - TILTAK_DRIFTSTILSKUDD
        - TILTAK_INVESTERINGER

    OpprettUtbetalingRequest:
      type: object
      properties:
        gjennomforingId:
          type: string
          format: UUID
        periodeStart:
          type: string
          format: date
        periodeSlutt:
          type: string
          format: date
        beskrivelse:
          type: string
        kontonummer:
          type: string
        kidNummer:
          type: [string, "null"]
        belop:
          type: string
      required:
        - gjennomforingId
        - beskrivelse
        - kontonummer
        - belop
        - periodeStart
        - periodeSlutt

    BesluttTotrinnskontrollRequest:
      type: object
      properties:
        besluttelse:
          $ref: "#/components/schemas/Besluttelse"
        aarsaker:
          type: array
          items:
            type: string
        forklaring:
          type: [string, "null"]
      required: [besluttelse, aarsaker, forklaring]

    TotrinnskontrollDto:
      oneOf:
        - $ref: "#/components/schemas/TotrinnskontrollTilBeslutningDto"
        - $ref: "#/components/schemas/TotrinnskontrollBesluttetDto"

    TotrinnskontrollTilBeslutningDto:
      type: object
      properties:
        type:
          const: TIL_BESLUTNING
        behandletAv:
          $ref: "#/components/schemas/AgentDto"
        behandletTidspunkt:
          type: string
          format: date-time
        kanBesluttes:
          type: boolean
        aarsaker:
          type: array
          items:
            type: string
        forklaring:
          type: string
      required:
        - type
        - behandletAv
        - behandletTidspunkt
        - kanBesluttes
        - aarsaker

    TotrinnskontrollBesluttetDto:
      type: object
      properties:
        type:
          const: BESLUTTET
        behandletAv:
          $ref: "#/components/schemas/AgentDto"
        behandletTidspunkt:
          type: string
          format: date-time
        kanBesluttes:
          type: boolean
        aarsaker:
          type: array
          items:
            type: string
        forklaring:
          type: string
        besluttetAv:
          $ref: "#/components/schemas/AgentDto"
        besluttetTidspunkt:
          type: string
          format: date-time
        besluttelse:
          $ref: "#/components/schemas/Besluttelse"
      required:
        - type
        - behandletAv
        - behandletTidspunkt
        - aarsaker
        - kanBesluttes
        - besluttetAv
        - besluttetTidspunkt
        - besluttelse

    AgentDto:
      oneOf:
        - $ref: "#/components/schemas/NavAnsattAgentDto"
        - $ref: "#/components/schemas/ArrangorAgentDto"
        - $ref: "#/components/schemas/SystemAgentDto"

    NavAnsattAgentDto:
      type: object
      properties:
        type:
          const: NAV_ANSATT
        navIdent:
          type: string
        navn:
          type: string
      required:
        - type
        - navIdent

    ArrangorAgentDto:
      type: object
      properties:
        type:
          const: ARRANGOR
      required:
        - type

    SystemAgentDto:
      type: object
      properties:
        type:
          const: SYSTEM
        navn:
          type: string
      required:
        - type
        - navn

    DataDrivenTableDto:
      type: object
      properties:
        columns:
          type: array
          items:
            $ref: "#/components/schemas/DataDrivenColumn"
        rows:
          type: array
          items:
            type: object
            additionalProperties:
              type: string
      required: [columns, rows]

    DataDrivenColumn:
      type: object
      properties:
        key:
          type: string
        label:
          type: string
        sortable:
          type: boolean
        align:
          type: string
          enum:
            - left
            - right
        format:
          type: [string, "null"]
          enum:
            - DATE
            - NOK
      required: [key, type, sortable, align, format]

    AarsakerOgForklaringRequest:
      type: object
      properties:
        aarsaker:
          type: array
          items:
            type: string
        forklaring:
          type: [string, "null"]
      required: [aarsaker, forklaring]
